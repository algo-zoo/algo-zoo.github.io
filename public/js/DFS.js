!function(e,t,r,o,n){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof i[o]&&i[o],a=s.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,r){if(!a[t]){if(!e[t]){var n="function"==typeof i[o]&&i[o];if(!r&&n)return n(t,!0);if(s)return s(t,!0);if(l&&"string"==typeof t)return l(t);var p=Error("Cannot find module '"+t+"'");throw p.code="MODULE_NOT_FOUND",p}h.resolve=function(r){var o=e[t][1][r];return null!=o?o:r},h.cache={};var u=a[t]=new d.Module(t);e[t][0].call(u.exports,h,u,u.exports,i)}return a[t].exports;function h(e){var t=h.resolve(e);return!1===t?{}:d(t)}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.exports={}},d.modules=e,d.cache=a,d.parent=s,d.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(d,"root",{get:function(){return i[o]}}),i[o]=d;for(var p=0;p<t.length;p++)d(t[p]);if(r){var u=d(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define(function(){return u})}}({hSxIW:[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"drawStack",()=>l);var i=e("./StackVis.js"),s=e("./ColorCode.js"),a=e("./Graph.js");function l(e){i.drawLabel("Stack",1,0),i.drawStack(e,9,1,1)}class d extends a.DirectedGraph{constructor(){super(),this.S=new Set,this.stack=[]}next_node(){if(0==this.stack.length)return null;{let e=this.stack.pop();return this.S.has(e)?null:e}}get_adjacent_nodes(e){let t=[];for(let r of this.E.get_edges())if(0!=r.weight&&this.V.get(r.from)==e){let e=this.V.get(r.to);t.includes(e)||t.push(e)}return t.sort((e,t)=>t.label.localeCompare(e.label)),t}onestep(e=!0){if(0==this.stack.size)return;let t=this.next_node();if(null==t){e&&this.refresh();return}for(let e of(t.order=this.S.size,this.S.add(t),this.get_adjacent_nodes(t)))this.S.has(e)||this.stack.push(e);e&&this.refresh()}dfs(){for(;this.stack.length>0;)this.onestep(!1);this.refresh()}initialize(){this.S.clear(),this.V.nodes.forEach(function(e){e.order=null});let e=$("#start").val(),t=this.V.get(e||0);this.stack=[],t&&this.stack.push(t)}setup(){super.setup(),this.reset()}start_node_refresh(){if(this.V.get_size()>0){let e=$("#start").val();$("#start").empty();for(let e=0;e<this.V.get_size();e++){let t=this.V.get(e);$("#start").append($("<option>").html(t.label).val(e))}$("#start").val(e||0)}}set_color(){this.V.nodes.forEach((function(e){this.S.has(e)?e.color=s.red:this.stack.includes(e)?e.color=s.yellow:e==this.V.get($("#start").val())?e.color=s.blue:e.color=s.white}).bind(this))}draw_search_order(){for(let e of this.V.get_nodes())this.S.has(e)&&(fill.apply(null,s.red),text(e.order,e.x,e.y-2*this.V.node_r))}draw(){this.set_color(),super.draw(),this.draw_search_order(),l(this.stack.map(e=>e.label))}refresh(){this.start_node_refresh(),super.refresh()}reset(){this.initialize(),this.refresh()}graph_select(){super.graph_select(),this.reset()}}let p=new d;window.setup=p.setup.bind(p),window.draw=p.draw.bind(p),window.mouseMoved=p.mouseMoved.bind(p),window.mouseReleased=p.mouseReleased.bind(p),window.matrix_change=p.matrix_change.bind(p),$(document).ready(function(){$("#add").click(()=>p.change_mode()),$("#search").click(()=>p.onestep()),$("#goal").click(()=>p.dfs()),$("#reset").click(()=>p.reset()),$("#start").change(()=>p.reset()),$("#graph-select").change(()=>p.graph_select())})},{"./ColorCode.js":"fgi4l","./Graph.js":"fmzMd","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3","./StackVis.js":"dAPiW"}],fgi4l:[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){return console.assert(0<=e&&e<=255,"Scale error"),[e,e,e]}function s(e,t,r){console.assert(0<=e&&e<=360,"Scale error"),console.assert(0<=t&&t<=100,"Scale error"),console.assert(0<=r&&r<=100,"Scale error");var o,n=function(e){return 0|Math.round(255*e)},i=t/100,s=r/100;if(0===t){var a=n(s);return[a,a,a]}var l=e/60,d=0|Math.floor(l),p=l-d,u=s*(1-i),h=s*(1-i*p),c=s*(1-i*(1-p));switch(d){case 0:o=[s,c,u];break;case 1:o=[h,s,u];break;case 2:o=[u,s,c];break;case 3:o=[u,h,s];break;case 4:o=[c,u,s];break;default:o=[s,u,h]}return[n(o[0]),n(o[1]),n(o[2])]}n.defineInteropFlag(r),n.export(r,"grayScale",()=>i),n.export(r,"hsv",()=>s),n.export(r,"black",()=>a),n.export(r,"dark",()=>l),n.export(r,"gray",()=>d),n.export(r,"lightGray",()=>p),n.export(r,"white",()=>u),n.export(r,"red",()=>h),n.export(r,"yellow",()=>c),n.export(r,"blue",()=>f),n.export(r,"lightBlue",()=>g),n.export(r,"orange",()=>m);var a=i(0),l=i(30),d=i(120),p=i(180),u=i(255),h=s(18,80,100),c=s(57,80,100),f=s(200,80,100),g=s(200,20,100),m=s(40,80,100)},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],jBTt3:[function(e,t,r,o){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],fmzMd:[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Graph",()=>d),n.export(r,"DirectedGraph",()=>p),n.export(r,"UndirectedGraph",()=>u);var i=e("./ColorCode.js"),s=e("./DrawUtil.js");class a{constructor(){this.node_r=25,this.nodes=[]}draw_node(e){drawingContext.setLineDash([]);let t=2*this.node_r;strokeWeight(2),stroke.apply(null,i.black),fill.apply(null,e.color),ellipse(e.x,e.y,t,t),textAlign(CENTER,CENTER),fill(0),textSize(24),text(e.label,e.x,e.y)}make(e,t,r,o=i.white){return{label:e,x:t,y:r,color:o}}add(...e){let t=this.make.apply(this,e);this.nodes.push(t)}modify(e,t){this.nodes=this.nodes.map(r=>r==e?t:r)}get(e){return this.nodes[e]}get_index(e){return this.nodes.findIndex(t=>t.label==e)}get_node_from_canvas(e,t){return this.nodes.find(r=>(0,s.calc_dist)(e,t,r.x,r.y)<=this.node_r)}get_nodes(){return this.nodes}get_labels(){return this.nodes.map(e=>e.label)}get_size(){return this.nodes.length}draw(){this.nodes.forEach(this.draw_node,this)}}class l{constructor(e,t){this.V=e,this.edges=[],this.directed=t}draw_arrow_head(e,t,r,o,n){strokeWeight(2),fill.apply(null,n),stroke.apply(null,n);let[i,a]=(0,s.calc_edge_point)(r,o,e,t,r,o,10),[l,d]=(0,s.rotation)(r,o,i,a,Math.PI/8),[p,u]=(0,s.rotation)(r,o,i,a,-Math.PI/8);triangle(r,o,l,d,p,u)}draw_arrow(e,t,r,o,n){strokeWeight(2),fill.apply(null,n),stroke.apply(null,n),line(e,t,r,o),this.directed&&this.draw_arrow_head(e,t,r,o,n)}draw_curve_arrow(e,t,r,o,n,i,s){strokeWeight(2),noFill(),stroke.apply(null,s),bezier(e,t,n,i,n,i,r,o),this.draw_arrow_head(n,i,r,o,s)}draw_label(e,t,r){textAlign(CENTER,CENTER),fill(0),stroke.apply(null,i.white),strokeWeight(5),textSize(24),text(e,t,r)}draw_edge(e){if(0==e.weight)return;drawingContext.setLineDash(e.dashed?[5]:[]);let[t,r]=[this.V.get(e.from),this.V.get(e.to)],[o,n]=[t.x,t.y],[i,a]=[r.x,r.y],[l,d]=[(o+i)/2,(n+a)/2],p=1.4*this.V.node_r,[u,h]=(0,s.calc_edge_point)(o,n,i,a,o,n,p),[c,f]=(0,s.calc_edge_point)(i,a,o,n,i,a,p),g=this.get(e.to,e.from);if(this.directed&&g){let t=[i-o,a-n],r=Math.sqrt(t[0]*t[0]+t[1]*t[1]),s=[t[0]/r,t[1]/r],g=[-s[1]*p,s[0]*p],[m,_]=[l+g[0],d+g[1]],[x,v]=[u+.25*g[0],h+.25*g[1]],[E,j]=[c+.25*g[0],f+.25*g[1]];this.draw_curve_arrow(x,v,E,j,m,_,e.color),this.draw_label(e.weight,m,_)}else this.draw_arrow(u,h,c,f,e.color),this.draw_label(e.weight,l,d)}get0(e,t){return"number"==typeof e?this.get_edges().find(r=>r.from==e&&r.to==t):this.get_edges().find(r=>this.V.get(r.from)==e&&this.V.get(r.to)==t)}get(e,t){return this.directed?this.get0(e,t):this.get0(e,t)||this.get0(t,e)}get_edges(){return this.edges.filter(e=>0!=e.weight)}draw(){this.edges.forEach(this.draw_edge,this)}make(e,t,r){return{from:this.V.get_index(e),to:this.V.get_index(t),weight:r,color:i.black,dashed:!1}}add(...e){let t=this.make.apply(this,e);this.edges.push(t)}modify(e,t,r){let o=(e,t)=>this.V.get(e)==t;this.edges=this.edges.map(n=>o(n.from,e)&&o(n.to,t)?r:n)}get_html(e,t){if(e==t)return"<td>0</td>";if(this.directed||e<t){let r=this.get(e,t);return'<td><input class="alg-input" type="number" onchange="matrix_change('+String(e)+","+String(t)+',this.value)" type="text" value="'+String(r?r.weight:0)+'"></td>'}{let r=this.get(t,e);return"<td>"+String(r?r.weight:0)+"</td>"}}}class d{static normal_mode=0;static add_mode=1;static edit_mode=2;constructor(e=!0){this.V=new a,this.E=new l(this.V,e),this.mode=d.normal_mode,this.edit_mode=null}graph_reset(){this.V.nodes=[],this.E.edges=[]}matrix_change(e,t,r){let[o,n]=[this.V.get(e),this.V.get(t)],i=this.E.get(e,t),s=parseInt(r);if(i){let e=this.E.make(o.label,n.label,s);this.E.modify(o,n,e)}else this.E.add(o.label,n.label,s);this.refresh()}matrix_refresh(){$("#matrix_tbl").empty().append($("<thead>"),$("<tbody>")),$("#matrix_tbl thead").append(["<tr>",'<td class="gray"></td>',this.V.get_labels().map(e=>'<td class="gray text-center">'+e+"</td>").join(""),"</tr>"].join(""));for(let e=0;e<this.V.get_size();e++){let t=this.V.get(e);$("#matrix_tbl tbody").append(["<tr>",'<td class="gray">'+t.label+"</td>",Array.from(Array(this.V.get_size())).map((function(t,r){return this.E.get_html(e,r)}).bind(this)).join(""),"</tr>"].join(""))}}debug_output(){console.log("----");let e=[],t=[];for(let t of this.V.get_nodes())e.push("["+['"'+t.label+'"',parseInt(t.x),parseInt(t.y)].join(", ")+"]");for(let e of this.E.get_edges()){let r=this.V.get(e.from),o=this.V.get(e.to);t.push("["+['"'+r.label+'"','"'+o.label+'"',e.weight].join(", ")+"]")}console.log(e.join(",\n")),console.log(t.join(",\n"))}refresh(){this.matrix_refresh(),redraw()}change_mode(e=d.add_mode){e==d.add_mode&&""==$("#node_label").val()?alert("エラー: 頂点名が空です"):(this.mode=e,this.refresh())}draw(){if(background(this.mode==d.add_mode||this.mode==d.edit_mode?i.gray:i.lightGray),this.V.draw(),this.E.draw(),this.mode==d.add_mode||this.mode==d.edit_mode){strokeWeight(2),stroke.apply(null,i.black),drawingContext.setLineDash([10,10]),line(mouseX,0,mouseX,1e3),line(0,mouseY,1e3,mouseY);let e=this.mode==d.add_mode?$("#node_label").val():this.editing_node.label;this.V.draw_node(this.V.make(e,mouseX,mouseY,i.orange))}}setup(){createCanvas(1e3,1e3).parent("canvas-hole"),noLoop()}mouseMoved(){(this.mode==d.add_mode||this.mode==d.edit_mode)&&redraw()}mouseReleased(){if(this.mode==d.add_mode){let e=$("#node_label").val();this.V.add(e,mouseX,mouseY),$("#node_label").val(""),this.change_mode(d.normal_mode)}else if(this.mode==d.edit_mode)this.editing_node.x=mouseX,this.editing_node.y=mouseY,this.editing_node=null,this.change_mode(d.normal_mode);else{let e=this.V.get_node_from_canvas(mouseX,mouseY);e&&(this.editing_node=e,this.change_mode(d.edit_mode))}}}class p extends d{constructor(){super(!0)}load_sample(e){this.graph_reset(),1==e?([["A",97,493],["B",258,351],["C",334,593],["D",615,354],["E",521,572],["F",802,503]].map(e=>this.V.add.apply(this.V,e)),[["A","B",3],["A","C",5],["B","C",4],["B","D",13],["C","E",4],["C","D",9],["D","F",2],["E","D",7],["E","F",8]].map(e=>this.E.add.apply(this.E,e))):2==e?([["A",110,500],["B",240,340],["C",240,650],["D",480,340],["E",480,500],["F",480,650],["G",710,340],["H",710,650],["I",880,500]].map(e=>this.V.add.apply(this.V,e)),[["A","B",4],["A","C",8],["B","C",11],["B","D",8],["C","E",7],["D","E",2],["D","H",4],["D","G",7],["E","F",6],["C","F",1],["F","H",2],["G","H",14],["G","I",9],["H","I",10]].map(e=>this.E.add.apply(this.E,e))):3==e&&([["A",480,290],["B",212,450],["C",480,450],["D",777,450],["E",148,620],["F",265,620],["G",411,620],["H",559,620],["I",727,620],["J",850,620],["K",315,780],["L",445,780],["M",523,780],["N",635,780],["O",850,780]].map(e=>this.V.add.apply(this.V,e)),[["A","B",1],["A","C",1],["A","D",1],["B","E",1],["B","F",1],["C","G",1],["C","H",1],["D","I",1],["D","J",1],["G","K",1],["G","L",1],["H","M",1],["H","N",1],["J","O",1]].map(e=>this.E.add.apply(this.E,e))),this.refresh()}graph_select(){let e=parseInt($("#graph-select").val());this.load_sample(e)}}class u extends d{constructor(){super(!1)}is_connected(){let e=this,t=new Set;return!function r(o){t.add(o);for(let n=0;n<e.V.get_size();n++)!t.has(n)&&e.E.get(o,n)&&r(n)}(0),this.V.get_size()==t.size}load_sample(e){this.graph_reset(),1==e?([["0",669,458],["1",309,508],["2",464,227],["3",512,508],["4",162,361],["5",829,338],["6",361,387],["7",536,388]].map(e=>this.V.add.apply(this.V,e)),[["0","3",5],["0","5",6],["0","7",3],["1","3",8],["1","6",3],["1","4",4],["2","4",9],["2","5",10],["2","7",5],["3","7",6],["4","6",2],["6","7",7]].map(e=>this.E.add.apply(this.E,e))):2==e?([["A",110,340],["B",240,180],["C",240,490],["D",480,180],["E",480,340],["F",480,490],["G",710,180],["H",710,490],["I",880,340]].map(e=>this.V.add.apply(this.V,e)),[["A","B",4],["A","C",8],["B","C",11],["B","D",8],["C","E",7],["D","E",2],["D","H",4],["D","G",7],["E","F",6],["C","F",1],["F","H",2],["G","H",14],["G","I",9],["H","I",10]].map(e=>this.E.add.apply(this.E,e))):3==e&&([["A",480,90],["B",212,250],["C",480,250],["D",777,250],["E",148,420],["F",265,420],["G",411,420],["H",559,420],["I",727,420],["J",850,420],["K",315,580],["L",445,580],["M",523,580],["N",635,580],["O",850,580]].map(e=>this.V.add.apply(this.V,e)),[["A","B",1],["A","C",1],["A","D",1],["B","E",1],["B","F",1],["C","G",1],["C","H",1],["D","I",1],["D","J",1],["G","K",1],["G","L",1],["H","M",1],["H","N",1],["J","O",1]].map(e=>this.E.add.apply(this.E,e))),this.refresh()}graph_select(){let e=parseInt($("#graph-select").val());this.load_sample(e)}}},{"./ColorCode.js":"fgi4l","./DrawUtil.js":"d335M","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],d335M:[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"strokeWeight",()=>u),n.export(r,"textSize",()=>h),n.export(r,"nodeRadius",()=>c),n.export(r,"drawNode",()=>a),n.export(r,"epsilon",()=>f),n.export(r,"calc_dist",()=>l),n.export(r,"calc_edge_point",()=>d),n.export(r,"rotation",()=>p);var i=e("./P5.js"),s=e("./ColorCode.js");function a(e,t,r){strokeWeight(2),i.fillColor(s.white),ellipse(e,t,50,50),textAlign(CENTER,CENTER),textSize(24),i.fillColor(s.black),text(r,e,t)}var l=function(e,t,r,o){return Math.sqrt((e-r)**2+(t-o)**2)},d=function(e,t,r,o,n,i,s){e==r&&(e+=f);let a=(o-t)/(r-e),d=s/Math.sqrt(1+a*a),[p,u]=[e+d,t+a*d],[h,c]=[e-d,t-a*d],[g,m]=[(e+r)/2,(t+o)/2];return l(p,u,g,m)<l(h,c,g,m)?[p,u]:[h,c]},p=function(e,t,r,o,n){return[(r-e)*Math.cos(n)-(o-t)*Math.sin(n)+e,(r-e)*Math.sin(n)+(o-t)*Math.cos(n)+t]},u=2,h=24,c=25,f=1e-5},{"./P5.js":"kRQjY","./ColorCode.js":"fgi4l","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],kRQjY:[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){fill.apply(null,e)}function s(e){stroke.apply(null,e)}n.defineInteropFlag(r),n.export(r,"fillColor",()=>i),n.export(r,"strokeColor",()=>s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],dAPiW:[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"padding",()=>P),n.export(r,"boxSize",()=>u),n.export(r,"halfBoxSize",()=>h),n.export(r,"quarterBoxSize",()=>c),n.export(r,"cellSize",()=>f),n.export(r,"state",()=>g),n.export(r,"drawBox",()=>m),n.export(r,"drawBoxByIndex",()=>_),n.export(r,"drawLabel",()=>x),n.export(r,"drawCodeLabel",()=>v),n.export(r,"drawArrow",()=>E),n.export(r,"drawArrowByIndex",()=>j),n.export(r,"drawStack",()=>w),n.export(r,"loadProgram",()=>y),n.export(r,"runStack",()=>b),n.export(r,"getStackState",()=>k),n.export(r,"getMaxStackLength",()=>S),n.export(r,"setDisable",()=>C),n.export(r,"refreshButtons",()=>V),n.export(r,"isCode",()=>I),n.export(r,"draw",()=>M),n.export(r,"setHeight",()=>O),n.export(r,"initializeStack",()=>B),n.export(r,"setup",()=>D),n.export(r,"createCanvas",()=>A),n.export(r,"run",()=>T),n.export(r,"prev",()=>N),n.export(r,"next",()=>F);var i=e("./P5.js"),s=e("./DrawUtil.js"),a=e("./ColorCode.js"),l=e("@rescript/core/src/Core__Int.js"),d=e("@rescript/core/src/Core__Array.js"),p=e("@rescript/core/src/Core__Option.js"),u=(Math.sqrt(2)*s.nodeRadius|0)<<1,h=u/2|0,c=u/4|0,f=u+24|0,g={index:{contents:void 0}};function m(e,t,r){strokeWeight(s.strokeWeight),i.strokeColor(a.black),i.fillColor(a.lightBlue),rect(e-(u/2|0)|0,t-(u/2|0)|0,u,u),s.drawNode(e,t,r)}function _(e,t,r){m((12+(u/2|0)|0)+Math.imul(t,f)|0,(12+(u/2|0)|0)+Math.imul(r,f)|0,e)}function x(e,t,r){var o=Math.imul(t,f)+12|0,n=Math.imul(r,f)+(f/2|0)|0;textSize(40),strokeWeight(3),i.strokeColor(a.black),i.fillColor(a.red),textAlign(LEFT,CENTER),text(e,o,n)}function v(e,t){var r=e[t];if(void 0!==r)return"object"!=typeof r?"Pop"===r?x("pop()",2,0):void 0:"PushShow"===r.TAG?x("push("+String(r._0)+")",2,0):void 0}function E(e,t,r){var o=function(e){strokeWeight(s.strokeWeight),i.strokeColor(a.black),i.fillColor(a.white),beginShape(),e.forEach(function(e){vertex(e[0],e[1])}),endShape(CLOSE)};if(void 0!==r&&r){var n=[e,t];return o([n,[e+h|0,t-h|0],[e+h|0,t-c|0],[e+u|0,t-c|0],[e+u|0,t+c|0],[e+h|0,t+c|0],[e+h|0,t+h|0],n])}var l=[e,t-c|0];o([l,[e+h|0,t-c|0],[e+h|0,t-h|0],[e+u|0,t],[e+h|0,t+h|0],[e+h|0,t+c|0],[e,t+c|0],l])}function j(e,t,r){E(12+Math.imul(e,f)|0,(12+h|0)+Math.imul(t,f)|0,void 0!==r&&r)}function w(e,t,r,o){var n=void 0!==r?r:2,l=void 0!==o?o:1;e.forEach(function(e,r){_(e,((t-r|0)-1|0)+n|0,l)});var d=(12+Math.imul(n,f)|0)+(f/2|0)|0,p=12+Math.imul(l,f)|0,u=(d-(f/2|0)|0)-12|0,h=u+Math.imul(t,f)|0,c=p-12|0,g=(p+f|0)-12|0;strokeWeight(s.strokeWeight<<1),i.strokeColor(a.black),line(u,c,h,c),line(u,g,h,g),line(h,c,h,g)}function y(){var e=$("#program").val(),t=RegExp("push\\((\\d+)\\)"),r=RegExp("pop\\(\\)"),o=[];return e.split("\n").forEach(function(e){var n=t.exec(e);if(null==n){if(!r.test(e))return;o.push("Pop"),o.push("PopPause");return}var i=n.slice(1)[0],s=p.getExn(l.fromString(i,void 0),void 0);o.push({TAG:"PushShow",_0:s}),o.push({TAG:"Push",_0:s})}),o}function b(e,t){for(var r=[],o=0;;){var n,i,s=n,a=o;if(t<a)return[r,s];var l=e[a];"object"!=typeof l?i="Pop"===l?r.pop():void 0:"PushShow"===l.TAG?i=l._0:(r.push(l._0),i=void 0),n=i,o=a+1|0}}function k(e,t){return 0<=t&&t<e.length?b(e,t):[[],void 0]}function S(e){return d.reduce(d.fromInitializer(e.length,function(t){return k(e,t)[0].length}),0,function(e,t){return e<t?t:e})}var C=(e,t)=>$(e).prop("disabled",t);function V(){var e=g.index.contents;if(void 0!==e){var t=y().length;C("#prev",-1===e),C("#next",(e+1|0)===t)}}function I(e,t,r){var o=e[t];return void 0!==o&&("object"!=typeof o?"Pop"===o&&"pop"===r:"PushShow"===o.TAG&&"push"===r)}function M(){background(200);var e=g.index.contents;if(void 0!==e){var t=y(),r=S(t),o=k(t,e),n=o[1];v(t,e),w(o[0].map(function(e){return String(e)}),r,2,1),I(t,e,"push")?(j(1,1,void 0),_(String(p.getExn(n,void 0)),0,1)):I(t,e,"pop")&&(j(1,1,!0),_(String(p.getExn(n,void 0)),0,1)),V()}}var O=e=>$(e).height($(e)[0].scrollHeight);function B(){var e="#program";$(e).val("push(4)\npush(2)\npush(9)\npop()\npush(1)\npop()\npush(9)\npush(7)\npush(6)"),O(e)}function D(){createCanvas(0,0).parent("canvas-hole"),C("#prev",!0),C("#next",!0),B()}function A(){var e=Math.imul(f,3);createCanvas(Math.imul(f,S(y())+4|0),e).parent("canvas-hole"),noLoop()}function T(){A(),g.index.contents=-1}function N(){var e=g.index.contents;if(void 0!==e&&0<=e){g.index.contents=e-1|0;return}}function F(){var e=g.index.contents;if(void 0!==e&&e<(y().length-1|0)){g.index.contents=e+1|0;return}}$(document).ready(function(){[["#run",T],["#prev",N],["#next",F]].forEach(function(e){var t=e[1];$(e[0]).on("click",function(){t(),redraw()})})}),window.setup=D,window.draw=M;var P=12},{"./P5.js":"kRQjY","./DrawUtil.js":"d335M","./ColorCode.js":"fgi4l","@rescript/core/src/Core__Int.js":"da5Bi","@rescript/core/src/Core__Array.js":"kmH7i","@rescript/core/src/Core__Option.js":"4Dake","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],da5Bi:[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Constants",()=>u),n.export(r,"fromString",()=>s),n.export(r,"range",()=>a),n.export(r,"rangeWithOptions",()=>l),n.export(r,"clamp",()=>d),n.export(r,"Bitwise",()=>p);var i=e("./Core__Array.js");function s(e,t){var r=void 0!==t?parseInt(e,t):parseInt(e);if(!isNaN(r)&&!(r>0x7fffffff)&&!(r<-0x80000000))return 0|r}function a(e,t,r){var o,n,s=void 0!==r?r:{},a=e>t,l=s.step;if(void 0!==l){if(0!==l)o=l;else{if(e!==t)throw RangeError("Incorrect range arguments");o=l}}else o=a?-1:1;if(a===o>=0)n=0;else if(0===o)n=+(!0===s.inclusive);else{var d,p=a?e-t|0:t-e|0;n=0|Math.ceil((!0===s.inclusive?p+1|0:p)/((d=o)>=0?d:0|-d))}return i.fromInitializer(n,function(t){return e+Math.imul(t,o)|0})}function l(e,t,r){return a(e,t,r)}function d(e,t,r){var o=void 0!==t&&t<r?t:r;return void 0!==e&&e>o?e:o}var p={lnot:function(e){return -1^e}},u={minValue:-0x80000000,maxValue:0x7fffffff}},{"./Core__Array.js":"kmH7i","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],kmH7i:[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"make",()=>s),n.export(r,"fromInitializer",()=>a),n.export(r,"equal",()=>l),n.export(r,"compare",()=>d),n.export(r,"indexOfOpt",()=>p),n.export(r,"lastIndexOfOpt",()=>u),n.export(r,"reduce",()=>h),n.export(r,"reduceWithIndex",()=>c),n.export(r,"reduceRight",()=>f),n.export(r,"reduceRightWithIndex",()=>g),n.export(r,"findIndexOpt",()=>m),n.export(r,"filterMap",()=>v),n.export(r,"keepSome",()=>E),n.export(r,"toShuffled",()=>x),n.export(r,"shuffle",()=>_),n.export(r,"findMap",()=>j),n.export(r,"last",()=>w);var i=e("rescript/lib/es6/caml_option.js");function s(e,t){if(e<=0)return[];var r=Array(e);return r.fill(t),r}function a(e,t){if(e<=0)return[];for(var r=Array(e),o=0;o<e;++o)r[o]=t(o);return r}function l(e,t,r){var o=e.length;if(o!==t.length)return!1;for(var n=0;;){var i=n;if(i===o)return!0;if(!r(e[i],t[i]))return!1;n=i+1|0}}function d(e,t,r){var o=e.length,n=t.length;if(o<n)return -1;if(o>n)return 1;for(var i=0;;){var s=i;if(s===o)return 0;var a=r(e[s],t[s]);if(0!==a)return a;i=s+1|0}}function p(e,t){var r=e.indexOf(t);if(-1!==r)return r}function u(e,t){var r=e.lastIndexOf(t);if(-1!==r)return r}function h(e,t,r){return e.reduce(r,t)}function c(e,t,r){return e.reduce(r,t)}function f(e,t,r){return e.reduceRight(r,t)}function g(e,t,r){return e.reduceRight(r,t)}function m(e,t){var r=e.findIndex(t);if(-1!==r)return r}function _(e){for(var t,r=e.length,o=0;o<r;++o)!function(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}(e,o,(0|Math.floor(Math.random()*(r-(t=o)|0)))+t|0)}function x(e){var t=e.slice();return _(t),t}function v(e,t){for(var r=e.length,o=Array(r),n=0,s=0;s<r;++s){var a=t(e[s]);void 0!==a&&(o[n]=i.valFromOption(a),n=n+1|0)}return o.length=n,o}function E(e){return v(e,function(e){return e})}function j(e,t){for(var r=0;;){var o=r;if(o===e.length)return;var n=t(e[o]);if(void 0!==n)return n;r=o+1|0}}function w(e){return e[e.length-1|0]}},{"rescript/lib/es6/caml_option.js":"lBDcT","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],lBDcT:[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){return void 0!==e.BS_PRIVATE_NESTED_SOME_NONE}function s(e){return void 0===e?{BS_PRIVATE_NESTED_SOME_NONE:0}:null!==e&&void 0!==e.BS_PRIVATE_NESTED_SOME_NONE?{BS_PRIVATE_NESTED_SOME_NONE:e.BS_PRIVATE_NESTED_SOME_NONE+1|0}:e}function a(e){if(null!=e)return s(e)}function l(e){if(void 0!==e)return s(e)}function d(e){if(null!==e)return s(e)}function p(e){if(null===e||void 0===e.BS_PRIVATE_NESTED_SOME_NONE)return e;var t=e.BS_PRIVATE_NESTED_SOME_NONE;if(0!==t)return{BS_PRIVATE_NESTED_SOME_NONE:t-1|0}}function u(e){if(void 0!==e)return p(e)}function h(e){return void 0!==e?e.VAL:e}n.defineInteropFlag(r),n.export(r,"nullable_to_opt",()=>a),n.export(r,"undefined_to_opt",()=>l),n.export(r,"null_to_opt",()=>d),n.export(r,"valFromOption",()=>p),n.export(r,"some",()=>s),n.export(r,"isNested",()=>i),n.export(r,"option_get",()=>u),n.export(r,"option_unwrap",()=>h)},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],"4Dake":[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"filter",()=>a),n.export(r,"forEach",()=>l),n.export(r,"getExn",()=>d),n.export(r,"mapOr",()=>p),n.export(r,"mapWithDefault",()=>v),n.export(r,"map",()=>u),n.export(r,"flatMap",()=>h),n.export(r,"getOr",()=>c),n.export(r,"getWithDefault",()=>E),n.export(r,"orElse",()=>f),n.export(r,"isSome",()=>g),n.export(r,"isNone",()=>m),n.export(r,"equal",()=>_),n.export(r,"compare",()=>x);var i=e("rescript/lib/es6/caml_option.js"),s=e("./Core__Error.js");function a(e,t){if(void 0!==e&&t(i.valFromOption(e)))return e}function l(e,t){if(void 0!==e)return t(i.valFromOption(e))}function d(e,t){return void 0!==e?i.valFromOption(e):s.panic(void 0!==t?t:"Option.getExn called for None value")}function p(e,t,r){return void 0!==e?r(i.valFromOption(e)):t}function u(e,t){if(void 0!==e)return i.some(t(i.valFromOption(e)))}function h(e,t){if(void 0!==e)return t(i.valFromOption(e))}function c(e,t){return void 0!==e?i.valFromOption(e):t}function f(e,t){return void 0!==e?e:t}function g(e){return void 0!==e}function m(e){return void 0===e}function _(e,t,r){return void 0===e?void 0===t:void 0!==t&&r(i.valFromOption(e),i.valFromOption(t))}function x(e,t,r){return void 0!==e?void 0!==t?r(i.valFromOption(e),i.valFromOption(t)):1:void 0!==t?-1:0}var v=p,E=c},{"rescript/lib/es6/caml_option.js":"lBDcT","./Core__Error.js":"gydnd","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],gydnd:[function(e,t,r,o){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"$$EvalError",()=>i),n.export(r,"$$RangeError",()=>s),n.export(r,"$$ReferenceError",()=>a),n.export(r,"$$SyntaxError",()=>l),n.export(r,"$$TypeError",()=>d),n.export(r,"$$URIError",()=>p),n.export(r,"panic",()=>u);var i={},s={},a={},l={},d={},p={};function u(e){throw Error("Panic! "+e)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}]},["hSxIW"],"hSxIW","parcelRequire94c2");
//# sourceMappingURL=DFS.js.map
