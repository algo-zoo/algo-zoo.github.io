{"mappings":"C,A,S,C,C,C,C,C,C,C,C,C,E,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,A,Y,O,C,C,E,E,C,C,E,C,E,E,K,E,C,E,E,A,a,O,Q,A,Y,O,O,O,E,O,O,C,I,C,Q,S,E,C,C,C,E,G,C,C,C,E,C,C,G,C,C,C,E,C,C,I,E,A,Y,O,C,C,E,E,C,C,E,C,G,C,G,E,O,E,E,C,G,G,E,O,E,E,C,G,G,G,A,U,O,E,O,E,G,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,O,C,S,C,E,I,E,C,C,E,C,E,C,E,C,O,A,M,E,E,C,E,E,K,C,C,E,I,E,C,C,E,C,I,E,M,C,G,C,C,E,C,E,C,I,C,E,O,C,E,E,E,O,C,E,C,O,C,C,E,C,O,C,S,E,C,E,I,E,E,O,C,G,M,A,C,I,E,C,E,E,E,C,C,E,e,C,C,E,E,M,C,S,C,E,I,C,E,C,E,I,C,M,C,E,I,C,O,C,C,C,E,E,O,C,E,E,K,C,E,E,M,C,E,E,Q,C,S,C,C,C,E,C,C,E,C,C,S,C,C,C,E,E,O,C,C,E,C,E,A,E,O,c,C,E,O,C,I,W,O,C,C,E,A,C,G,C,C,E,C,E,I,I,E,E,E,E,M,C,I,E,C,C,E,E,G,E,C,I,E,E,E,A,C,U,O,S,A,a,O,O,O,O,C,E,Y,O,Q,O,G,E,O,W,O,C,E,C,E,C,M,C,S,C,C,C,C,C,C,C,E,A,E,kD,iB,C,GCGA,IAAA,EAAA,EAAA,kBAEI,EAAK,CACP,EAAG,GACH,EAAG,GACH,SAAU,IACV,WAAY,GACZ,UAAW,GACX,IAAK,IACP,EACA,IAAM,EAAQ,CACZ,KAAM,EAAE,CACR,KAAM,KACN,cAAe,GACf,UAAW,EACb,EAEM,EAAc,SAAS,CAAE,EACzB,AAAM,GAAN,EACF,EAAE,eAAe,GAAG,CAAC,kFAUZ,AAAM,GAAN,EACT,EAAE,eAAe,GAAG,CAAC,0CAOrB,EAAE,eAAe,GAAG,CAAC,GAEzB,EAEM,EAAiB,WAErB,EADW,SAAS,EAAE,gBAAgB,GAAG,IAE3C,EAEM,EAAc,SAAS,CAAC,EAC5B,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,IAAI,CAAC,MAAM,CAAE,IACrC,IAAK,IAA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","sources":["<anon>","rescript/Maze.js","rescript/ColorCode.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js"],"sourcesContent":["// modules are defined as an array\n// [ module function, map of requires ]\n//\n// map of requires is short require name -> numeric require\n//\n// anything defined in a previous bundle is accessed via the\n// orig method which is the require for previous bundles\n\n(function (modules, entry, mainEntry, parcelRequireName, globalName) {\n  /* eslint-disable no-undef */\n  var globalObject =\n    typeof globalThis !== 'undefined'\n      ? globalThis\n      : typeof self !== 'undefined'\n      ? self\n      : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n      ? global\n      : {};\n  /* eslint-enable no-undef */\n\n  // Save the require from previous bundle to this closure if any\n  var previousRequire =\n    typeof globalObject[parcelRequireName] === 'function' &&\n    globalObject[parcelRequireName];\n\n  var cache = previousRequire.cache || {};\n  // Do not use `require` to prevent Webpack from trying to bundle this call\n  var nodeRequire =\n    typeof module !== 'undefined' &&\n    typeof module.require === 'function' &&\n    module.require.bind(module);\n\n  function newRequire(name, jumped) {\n    if (!cache[name]) {\n      if (!modules[name]) {\n        // if we cannot find the module within our internal map or\n        // cache jump to the current global require ie. the last bundle\n        // that was added to the page.\n        var currentRequire =\n          typeof globalObject[parcelRequireName] === 'function' &&\n          globalObject[parcelRequireName];\n        if (!jumped && currentRequire) {\n          return currentRequire(name, true);\n        }\n\n        // If there are other bundles on this page the require from the\n        // previous one is saved to 'previousRequire'. Repeat this as\n        // many times as there are bundles until the module is found or\n        // we exhaust the require chain.\n        if (previousRequire) {\n          return previousRequire(name, true);\n        }\n\n        // Try the node require function if it exists.\n        if (nodeRequire && typeof name === 'string') {\n          return nodeRequire(name);\n        }\n\n        var err = new Error(\"Cannot find module '\" + name + \"'\");\n        err.code = 'MODULE_NOT_FOUND';\n        throw err;\n      }\n\n      localRequire.resolve = resolve;\n      localRequire.cache = {};\n\n      var module = (cache[name] = new newRequire.Module(name));\n\n      modules[name][0].call(\n        module.exports,\n        localRequire,\n        module,\n        module.exports,\n        globalObject\n      );\n    }\n\n    return cache[name].exports;\n\n    function localRequire(x) {\n      var res = localRequire.resolve(x);\n      return res === false ? {} : newRequire(res);\n    }\n\n    function resolve(x) {\n      var id = modules[name][1][x];\n      return id != null ? id : x;\n    }\n  }\n\n  function Module(moduleName) {\n    this.id = moduleName;\n    this.bundle = newRequire;\n    this.exports = {};\n  }\n\n  newRequire.isParcelRequire = true;\n  newRequire.Module = Module;\n  newRequire.modules = modules;\n  newRequire.cache = cache;\n  newRequire.parent = previousRequire;\n  newRequire.register = function (id, exports) {\n    modules[id] = [\n      function (require, module) {\n        module.exports = exports;\n      },\n      {},\n    ];\n  };\n\n  Object.defineProperty(newRequire, 'root', {\n    get: function () {\n      return globalObject[parcelRequireName];\n    },\n  });\n\n  globalObject[parcelRequireName] = newRequire;\n\n  for (var i = 0; i < entry.length; i++) {\n    newRequire(entry[i]);\n  }\n\n  if (mainEntry) {\n    // Expose entry point to Node, AMD or browser globals\n    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js\n    var mainExports = newRequire(mainEntry);\n\n    // CommonJS\n    if (typeof exports === 'object' && typeof module !== 'undefined') {\n      module.exports = mainExports;\n\n      // RequireJS\n    } else if (typeof define === 'function' && define.amd) {\n      define(function () {\n        return mainExports;\n      });\n\n      // <script>\n    } else if (globalName) {\n      this[globalName] = mainExports;\n    }\n  }\n})({\"lQkEX\":[function(require,module,exports,__globalThis) {\n// Generated by ReScript, PLEASE EDIT WITH CARE\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nparcelHelpers.defineInteropFlag(exports);\nvar _colorCodeJs = require(\"./ColorCode.js\");\nvar cv = {\n    w: -1,\n    h: -1,\n    box_size: 100,\n    label_size: 20,\n    text_size: 36,\n    INF: 10 ** 10\n};\nconst state = {\n    maze: [],\n    dist: null,\n    current_depth: -1,\n    max_depth: -1\n};\nconst load_sample = function(id) {\n    if (id == 1) $('#maze-input').val([\n        '.#....#G',\n        '.#.#....',\n        '...#.##.',\n        '#.##...#',\n        '...###.#',\n        '.#.....#',\n        '...#.#..',\n        'S.......'\n    ].join(\"\\n\"));\n    else if (id == 2) $('#maze-input').val([\n        '..#...#G',\n        '..#.#...',\n        '.....##.',\n        'S..#....'\n    ].join(\"\\n\"));\n    else $('#maze-input').val('');\n};\nconst initializeMaze = function() {\n    const id = parseInt($('#maze-select').val());\n    load_sample(id);\n};\nconst getPosition = function(c) {\n    for(let i = 0; i < state.maze.length; i++)for(let j = 0; j < state.maze[i].length; j++)if (state.maze[i][j] == c) return [\n        i,\n        j\n    ];\n    return null;\n};\nconst setMaze = function() {\n    state.maze = $('#maze-input').val().split('\\n');\n    if (state.maze[0] != '') {\n        cv.w = cv.box_size * (state.maze[0].length + 1);\n        cv.h = cv.box_size * (state.maze.length + 1);\n    }\n    createCanvas(cv.w, cv.h).parent('canvas-hole');\n    bfs();\n    state.current_depth = 0;\n};\nwindow.setup = function() {\n    createCanvas(0, 0).parent('canvas-hole');\n    noLoop();\n};\nconst bfs = function() {\n    const s = getPosition('S');\n    const g = getPosition('G');\n    if (!s) {\n        alert('Error: The start position (\\'S\\') is not defined.');\n        return;\n    }\n    if (!g) {\n        alert('Error: The goal position (\\'G\\') is not defined.');\n        return;\n    }\n    const [sy, sx] = s;\n    const [gy, gx] = g;\n    const w = state.maze[0].length;\n    const h = state.maze.length;\n    state.dist = Array.from({\n        length: h\n    }, ()=>Array(w).fill(cv.INF));\n    let queue = [];\n    queue.push([\n        sy,\n        sx\n    ]);\n    state.dist[sy][sx] = 0;\n    while(queue.length > 0 && state.dist[gy][gx] == cv.INF){\n        const [i, j] = queue.shift();\n        for (const [di, dj] of [\n            [\n                0,\n                1\n            ],\n            [\n                1,\n                0\n            ],\n            [\n                0,\n                -1\n            ],\n            [\n                -1,\n                0\n            ]\n        ]){\n            const ni = i + di;\n            const nj = j + dj;\n            if (!(0 <= ni && ni < h) || !(0 <= nj && nj < w)) continue;\n            if (state.maze[ni][nj] == '#') continue;\n            const new_dist = state.dist[i][j] + 1;\n            if (state.dist[ni][nj] > new_dist) {\n                state.dist[ni][nj] = new_dist;\n                queue.push([\n                    ni,\n                    nj\n                ]);\n            }\n        }\n    }\n    state.max_depth = max(state.dist.flatMap((x)=>x).filter((x)=>x != cv.INF));\n};\nconst drawBox = function(i, j) {\n    const offset = cv.box_size / 2;\n    const x = offset + cv.box_size * j;\n    const y = offset + cv.box_size * i;\n    fill(state.maze[i][j] == '#' ? (0, _colorCodeJs.dark) : (0, _colorCodeJs.white));\n    rect(x, y, cv.box_size, cv.box_size);\n};\nconst drawHeader = function(i, j) {\n    const offset = cv.box_size / 2;\n    const padding = cv.box_size * 0.05;\n    const x = offset + padding + cv.box_size * j;\n    const y = offset + padding + cv.label_size + cv.box_size * i;\n    const header = '(' + j + ', ' + i + ')';\n    fill((0, _colorCodeJs.red));\n    textSize(cv.label_size);\n    textAlign(LEFT, BASELINE);\n    text(header, x, y);\n    if (state.maze[i][j] == 'S' || state.maze[i][j] == 'G') {\n        const x2 = offset - padding + cv.box_size * (j + 1);\n        textAlign(RIGHT, BASELINE);\n        text('[' + state.maze[i][j] + ']', x2, y);\n    }\n};\nconst drawDistance = function(i, j) {\n    const d = state.dist[i][j];\n    if (d != cv.INF && d <= state.current_depth) {\n        const offset = cv.box_size / 2;\n        const x = offset + cv.box_size * (j + 0.5);\n        const y = offset + cv.box_size * (i + 0.5);\n        fill(0);\n        textSize(cv.text_size);\n        textAlign(CENTER, CENTER);\n        text(state.dist[i][j], x, y);\n    }\n};\nconst drawMaze = function() {\n    const offset = cv.box_size / 2;\n    for(let i = 0; i < state.maze.length; i++)for(let j = 0; j < state.maze[i].length; j++){\n        drawBox(i, j);\n        drawHeader(i, j);\n        drawDistance(i, j);\n    }\n};\nwindow.draw = function() {\n    $('#prev').prop('disabled', state.current_depth == -1 || state.current_depth == 0);\n    $('#next').prop('disabled', state.current_depth == -1 || state.current_depth == state.max_depth);\n    background((0, _colorCodeJs.lightGray));\n    drawMaze();\n};\n$(document).ready(function() {\n    $('#maze-load').click(function() {\n        setMaze();\n        draw();\n    });\n    $('#prev').click(function() {\n        if (state.current_depth > 0) {\n            state.current_depth--;\n            draw();\n        }\n    });\n    $('#next').click(function() {\n        if (state.current_depth < state.max_depth) {\n            state.current_depth++;\n            draw();\n        }\n    });\n    $('#maze-select').change(initializeMaze);\n});\n /*  Not a pure module */ \n},{\"./ColorCode.js\":\"fgi4l\",\"@parcel/transformer-js/src/esmodule-helpers.js\":\"jBTt3\"}],\"fgi4l\":[function(require,module,exports,__globalThis) {\n// Generated by ReScript, PLEASE EDIT WITH CARE\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nparcelHelpers.defineInteropFlag(exports);\nparcelHelpers.export(exports, \"grayScale\", ()=>grayScale) /* black Not a pure module */ ;\nparcelHelpers.export(exports, \"hsv\", ()=>hsv);\nparcelHelpers.export(exports, \"black\", ()=>black);\nparcelHelpers.export(exports, \"dark\", ()=>dark);\nparcelHelpers.export(exports, \"gray\", ()=>gray);\nparcelHelpers.export(exports, \"lightGray\", ()=>lightGray);\nparcelHelpers.export(exports, \"white\", ()=>white);\nparcelHelpers.export(exports, \"red\", ()=>red);\nparcelHelpers.export(exports, \"yellow\", ()=>yellow);\nparcelHelpers.export(exports, \"blue\", ()=>blue);\nparcelHelpers.export(exports, \"lightBlue\", ()=>lightBlue);\nparcelHelpers.export(exports, \"orange\", ()=>orange);\nfunction grayScale(v) {\n    console.assert(0 <= v && v <= 255, \"Scale error\");\n    return [\n        v,\n        v,\n        v\n    ];\n}\nfunction hsv(h, s, v) {\n    console.assert(0 <= h && h <= 360, \"Scale error\");\n    console.assert(0 <= s && s <= 100, \"Scale error\");\n    console.assert(0 <= v && v <= 100, \"Scale error\");\n    var normalize = function(x) {\n        return Math.round(x * 255.0) | 0;\n    };\n    var hf = h;\n    var sf = s / 100.0;\n    var vf = v / 100.0;\n    if (s === 0) {\n        var v$1 = normalize(vf);\n        return [\n            v$1,\n            v$1,\n            v$1\n        ];\n    }\n    var nh = hf / 60.0;\n    var i = Math.floor(nh) | 0;\n    var f = nh - i;\n    var p = vf * (1.0 - sf);\n    var q = vf * (1.0 - sf * f);\n    var t = vf * (1.0 - sf * (1.0 - f));\n    var match;\n    switch(i){\n        case 0:\n            match = [\n                vf,\n                t,\n                p\n            ];\n            break;\n        case 1:\n            match = [\n                q,\n                vf,\n                p\n            ];\n            break;\n        case 2:\n            match = [\n                p,\n                vf,\n                t\n            ];\n            break;\n        case 3:\n            match = [\n                p,\n                q,\n                vf\n            ];\n            break;\n        case 4:\n            match = [\n                t,\n                p,\n                vf\n            ];\n            break;\n        default:\n            match = [\n                vf,\n                p,\n                q\n            ];\n    }\n    var r = normalize(match[0]);\n    var g = normalize(match[1]);\n    var b = normalize(match[2]);\n    return [\n        r,\n        g,\n        b\n    ];\n}\nvar black = grayScale(0);\nvar dark = grayScale(30);\nvar gray = grayScale(120);\nvar lightGray = grayScale(180);\nvar white = grayScale(255);\nvar red = hsv(18, 80, 100);\nvar yellow = hsv(57, 80, 100);\nvar blue = hsv(200, 80, 100);\nvar lightBlue = hsv(200, 20, 100);\nvar orange = hsv(40, 80, 100);\n\n},{\"@parcel/transformer-js/src/esmodule-helpers.js\":\"jBTt3\"}],\"jBTt3\":[function(require,module,exports,__globalThis) {\nexports.interopDefault = function(a) {\n    return a && a.__esModule ? a : {\n        default: a\n    };\n};\nexports.defineInteropFlag = function(a) {\n    Object.defineProperty(a, '__esModule', {\n        value: true\n    });\n};\nexports.exportAll = function(source, dest) {\n    Object.keys(source).forEach(function(key) {\n        if (key === 'default' || key === '__esModule' || Object.prototype.hasOwnProperty.call(dest, key)) return;\n        Object.defineProperty(dest, key, {\n            enumerable: true,\n            get: function() {\n                return source[key];\n            }\n        });\n    });\n    return dest;\n};\nexports.export = function(dest, destName, get) {\n    Object.defineProperty(dest, destName, {\n        enumerable: true,\n        get: get\n    });\n};\n\n},{}]},[\"lQkEX\"], \"lQkEX\", \"parcelRequire94c2\")\n\n//# sourceMappingURL=Maze.js.map\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\n\nimport { dark, white, red, lightGray } from './ColorCode.js'\n\nvar cv = { // constant values\n  w: -1,\n  h: -1,\n  box_size: 100,\n  label_size: 20,\n  text_size: 36,\n  INF: 10**10\n}\nconst state = {\n  maze: [],\n  dist: null,\n  current_depth: -1,\n  max_depth: -1\n}\n\nconst load_sample = function(id) {\n  if (id == 1) {\n    $('#maze-input').val([\n      '.#....#G',\n      '.#.#....',\n      '...#.##.',\n      '#.##...#',\n      '...###.#',\n      '.#.....#',\n      '...#.#..',\n      'S.......'\n    ].join(\"\\n\"));\n  } else if (id == 2) {\n    $('#maze-input').val([\n      '..#...#G',\n      '..#.#...',\n      '.....##.',\n      'S..#....',\n    ].join(\"\\n\"));\n  } else {\n    $('#maze-input').val('');\n  }\n}\n\nconst initializeMaze = function() {\n  const id = parseInt($('#maze-select').val());\n  load_sample(id);\n}\n\nconst getPosition = function(c) {\n  for (let i = 0; i < state.maze.length; i++)\n    for (let j = 0; j < state.maze[i].length; j++)\n      if (state.maze[i][j] == c)\n        return [i, j];\n  return null;\n}\n\nconst setMaze = function() {\n  state.maze = $('#maze-input').val().split('\\n');\n  if (state.maze[0] != '') {\n    cv.w = cv.box_size * (state.maze[0].length + 1);\n    cv.h = cv.box_size * (state.maze.length + 1);\n  }\n  createCanvas(cv.w, cv.h).parent('canvas-hole');\n  bfs();\n  state.current_depth = 0;\n}\n\nwindow.setup = function() {\n  createCanvas(0, 0).parent('canvas-hole');\n  noLoop();\n}\n\nconst bfs = function() {\n  const s = getPosition('S');\n  const g = getPosition('G');\n  if (!s) {\n    alert('Error: The start position (\\'S\\') is not defined.')\n    return;\n  }\n  if (!g) {\n    alert('Error: The goal position (\\'G\\') is not defined.')\n    return;\n  }\n\n  const [sy, sx] = s;\n  const [gy, gx] = g;\n\n  const w = state.maze[0].length;\n  const h = state.maze.length;\n  state.dist = Array.from({ length: h }, () => Array(w).fill(cv.INF));\n\n  let queue = [];\n  queue.push([sy, sx]);\n  state.dist[sy][sx] = 0;\n  while (queue.length > 0 && state.dist[gy][gx] == cv.INF) {\n    const [i, j] = queue.shift();\n    for (const [di, dj] of [ [0, 1], [1, 0], [0, -1], [-1, 0] ]) {\n      const ni = i + di;\n      const nj = j + dj;\n      if (!(0 <= ni && ni < h) || !(0 <= nj && nj < w))\n        continue;\n      if (state.maze[ni][nj] == '#')\n        continue;\n      const new_dist = state.dist[i][j] + 1;\n      if (state.dist[ni][nj] > new_dist) {\n        state.dist[ni][nj] = new_dist;\n        queue.push([ni, nj]);\n      }\n    }\n  }\n  state.max_depth = max(state.dist.flatMap(x => x).filter(x => x != cv.INF));\n}\n\nconst drawBox = function(i, j) {\n  const offset = cv.box_size / 2;\n  const x = offset + cv.box_size * j;\n  const y = offset + cv.box_size * i;\n  fill(state.maze[i][j] == '#' ? dark : white);\n  rect(x, y, cv.box_size, cv.box_size);\n}\n\nconst drawHeader = function(i, j) {\n  const offset = cv.box_size / 2;\n  const padding = cv.box_size * 0.05;\n  const x = offset + padding + cv.box_size * j;\n  const y = offset + padding + cv.label_size + cv.box_size * i;\n  \n\n  const header = '(' + j + ', ' + i + ')';\n  fill(red);\n  textSize(cv.label_size);\n  textAlign(LEFT, BASELINE);\n  text(header, x, y);\n  if (state.maze[i][j] == 'S' || state.maze[i][j] == 'G') {\n    const x2 = offset - padding + cv.box_size * (j+1);\n    textAlign(RIGHT, BASELINE);\n    text('[' + state.maze[i][j] + ']', x2, y);\n  }\n}\n\nconst drawDistance = function(i, j) {\n  const d = state.dist[i][j];\n  if (d != cv.INF && d <= state.current_depth) {\n    const offset = cv.box_size / 2;\n    const x = offset + cv.box_size * (j + 0.5);\n    const y = offset + cv.box_size * (i + 0.5);\n    \n    fill(0);\n    textSize(cv.text_size);\n    textAlign(CENTER, CENTER);\n    text(state.dist[i][j], x, y);\n  }\n}\n\nconst drawMaze = function() {\n  const offset = cv.box_size / 2;\n  for (let i = 0; i < state.maze.length; i++) {\n    for (let j = 0; j < state.maze[i].length; j++) {\n      drawBox(i, j);\n      drawHeader(i, j);\n      drawDistance(i, j);\n    }\n  }\n}\n\nwindow.draw = function() {\n  $('#prev').prop('disabled', state.current_depth == -1 || state.current_depth == 0);\n  $('#next').prop('disabled', state.current_depth == -1 || state.current_depth == state.max_depth);\n  background(lightGray);\n  drawMaze();\n}\n\n$(document).ready(function() {\n  $('#maze-load').click(function() {\n    setMaze();\n    draw();\n  });\n  $('#prev').click(function() {\n    if (state.current_depth > 0) {\n      state.current_depth--;\n      draw();\n    }\n  });\n  $('#next').click(function() {\n    if (state.current_depth < state.max_depth) {\n      state.current_depth++;\n      draw();\n    }\n  });\n  $('#maze-select').change(initializeMaze);\n});\n;\n\nexport {\n  \n}\n/*  Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\n\nfunction grayScale(v) {\n  console.assert(0 <= v && v <= 255, \"Scale error\");\n  return [\n          v,\n          v,\n          v\n        ];\n}\n\nfunction hsv(h, s, v) {\n  console.assert(0 <= h && h <= 360, \"Scale error\");\n  console.assert(0 <= s && s <= 100, \"Scale error\");\n  console.assert(0 <= v && v <= 100, \"Scale error\");\n  var normalize = function (x) {\n    return Math.round(x * 255.0) | 0;\n  };\n  var hf = h;\n  var sf = s / 100.0;\n  var vf = v / 100.0;\n  if (s === 0) {\n    var v$1 = normalize(vf);\n    return [\n            v$1,\n            v$1,\n            v$1\n          ];\n  }\n  var nh = hf / 60.0;\n  var i = Math.floor(nh) | 0;\n  var f = nh - i;\n  var p = vf * (1.0 - sf);\n  var q = vf * (1.0 - sf * f);\n  var t = vf * (1.0 - sf * (1.0 - f));\n  var match;\n  switch (i) {\n    case 0 :\n        match = [\n          vf,\n          t,\n          p\n        ];\n        break;\n    case 1 :\n        match = [\n          q,\n          vf,\n          p\n        ];\n        break;\n    case 2 :\n        match = [\n          p,\n          vf,\n          t\n        ];\n        break;\n    case 3 :\n        match = [\n          p,\n          q,\n          vf\n        ];\n        break;\n    case 4 :\n        match = [\n          t,\n          p,\n          vf\n        ];\n        break;\n    default:\n      match = [\n        vf,\n        p,\n        q\n      ];\n  }\n  var r = normalize(match[0]);\n  var g = normalize(match[1]);\n  var b = normalize(match[2]);\n  return [\n          r,\n          g,\n          b\n        ];\n}\n\nvar black = grayScale(0);\n\nvar dark = grayScale(30);\n\nvar gray = grayScale(120);\n\nvar lightGray = grayScale(180);\n\nvar white = grayScale(255);\n\nvar red = hsv(18, 80, 100);\n\nvar yellow = hsv(57, 80, 100);\n\nvar blue = hsv(200, 80, 100);\n\nvar lightBlue = hsv(200, 20, 100);\n\nvar orange = hsv(40, 80, 100);\n\nexport {\n  grayScale ,\n  hsv ,\n  black ,\n  dark ,\n  gray ,\n  lightGray ,\n  white ,\n  red ,\n  yellow ,\n  blue ,\n  lightBlue ,\n  orange ,\n}\n/* black Not a pure module */\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n"],"names":["modules","entry","mainEntry","parcelRequireName","globalName","globalObject","globalThis","self","window","global","previousRequire","cache","nodeRequire","module","require","bind","newRequire","name","jumped","currentRequire","err","Error","code","localRequire","resolve","x","id","Module","call","exports","res","isParcelRequire","moduleName","bundle","parent","register","Object","defineProperty","get","i","length","mainExports","define","amd","__globalThis","parcelHelpers","defineInteropFlag","_colorCodeJs","cv","w","h","box_size","label_size","text_size","INF","state","maze","dist","current_depth","max_depth","load_sample","$","val","initializeMaze","parseInt","getPosition","c","j","setMaze","split","createCanvas","bfs","setup","noLoop","s","g","alert","sy","sx","gy","gx","Array","from","fill","queue","push","shift","di","dj","ni","nj","new_dist","max","flatMap","filter","drawBox","offset","y","dark","white","rect","drawHeader","padding","red","textSize","textAlign","LEFT","BASELINE","text","x2","RIGHT","drawDistance","d","CENTER","drawMaze","draw","prop","background","lightGray","document","ready","click","change","grayScale","v","console","assert","hsv","match","normalize","Math","round","sf","vf","v$1","nh","hf","floor","f","p","q","t","export","black","gray","yellow","blue","lightBlue","orange","interopDefault","a","__esModule","default","value","exportAll","source","dest","keys","forEach","key","prototype","hasOwnProperty","enumerable","destName"],"version":3,"file":"Maze.js.map"}