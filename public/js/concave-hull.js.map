{"mappings":"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","sources":["rescript/concave-hull.js"],"sourcesContent":["/*\nNotice:\nThis program is taken from https://github.com/AndriiHeonia/hull\n\n==== License Information ====\nCopyright (c) 2014-2024, Andrii Heonia\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the author nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n==== License Information ====\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.hull = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nfunction _cross(o, a, b) {\n    return (a[0] - o[0]) * (b[1] - o[1]) - (a[1] - o[1]) * (b[0] - o[0]);\n}\n\nfunction _upperTangent(pointset) {\n    const lower = [];\n    for (let l = 0; l < pointset.length; l++) {\n        while (lower.length >= 2 && (_cross(lower[lower.length - 2], lower[lower.length - 1], pointset[l]) <= 0)) {\n            lower.pop();\n        }\n        lower.push(pointset[l]);\n    }\n    lower.pop();\n    return lower;\n}\n\nfunction _lowerTangent(pointset) {\n    const reversed = pointset.reverse(),\n        upper = [];\n    for (let u = 0; u < reversed.length; u++) {\n        while (upper.length >= 2 && (_cross(upper[upper.length - 2], upper[upper.length - 1], reversed[u]) <= 0)) {\n            upper.pop();\n        }\n        upper.push(reversed[u]);\n    }\n    upper.pop();\n    return upper;\n}\n\n// pointset has to be sorted by X\nfunction convex(pointset) {\n    const upper = _upperTangent(pointset),\n          lower = _lowerTangent(pointset);\n    const convex = lower.concat(upper);\n    convex.push(pointset[0]);  \n    return convex;  \n}\n\nmodule.exports = convex;\n\n},{}],2:[function(require,module,exports){\nmodule.exports = {\n\n    toXy: function(pointset, format) {\n        if (format === undefined) {\n            return pointset.slice();\n        }\n        return pointset.map(function(pt) {\n            /*jslint evil: true */\n            const _getXY = new Function('pt', 'return [pt' + format[0] + ',' + 'pt' + format[1] + '];');\n            return _getXY(pt);\n        });\n    },\n\n    fromXy: function(pointset, format) {\n        if (format === undefined) {\n            return pointset.slice();\n        }\n        return pointset.map(function(pt) {\n            /*jslint evil: true */\n            const _getObj = new Function('pt', 'const o = {}; o' + format[0] + '= pt[0]; o' + format[1] + '= pt[1]; return o;');\n            return _getObj(pt);\n        });\n    }\n\n}\n},{}],3:[function(require,module,exports){\nfunction Grid(points, cellSize) {\n    this._cells = [];\n    this._cellSize = cellSize;\n    this._reverseCellSize = 1 / cellSize;\n\n    for (let i = 0; i < points.length; i++) {\n        const point = points[i];\n        const x = this.coordToCellNum(point[0]);\n        const y = this.coordToCellNum(point[1]);\n        if (!this._cells[x]) {\n            const array = [];\n            array[y] = [point];\n            this._cells[x] = array;\n        } else if (!this._cells[x][y]) {\n            this._cells[x][y] = [point];\n        } else {\n            this._cells[x][y].push(point);\n        }\n    }\n}\n\nGrid.prototype = {\n    cellPoints: function(x, y) { // (Number, Number) -> Array\n        return (this._cells[x] !== undefined && this._cells[x][y] !== undefined) ? this._cells[x][y] : [];\n    },\n\n    rangePoints: function(bbox) { // (Array) -> Array\n        const tlCellX = this.coordToCellNum(bbox[0]);\n        const tlCellY = this.coordToCellNum(bbox[1]);\n        const brCellX = this.coordToCellNum(bbox[2]);\n        const brCellY = this.coordToCellNum(bbox[3]);\n        const points = [];\n\n        for (let x = tlCellX; x <= brCellX; x++) {\n            for (let y = tlCellY; y <= brCellY; y++) {\n                // replaced Array.prototype.push.apply to avoid hitting stack size limit on larger arrays.\n                for (let i = 0; i < this.cellPoints(x, y).length; i++) {\n                    points.push(this.cellPoints(x, y)[i]);\n                }\n            }\n        }\n\n        return points;\n    },\n\n    removePoint: function(point) { // (Array) -> Array\n        const cellX = this.coordToCellNum(point[0]);\n        const cellY = this.coordToCellNum(point[1]);\n        const cell = this._cells[cellX][cellY];\n        let pointIdxInCell;\n\n        for (let i = 0; i < cell.length; i++) {\n            if (cell[i][0] === point[0] && cell[i][1] === point[1]) {\n                pointIdxInCell = i;\n                break;\n            }\n        }\n\n        cell.splice(pointIdxInCell, 1);\n\n        return cell;\n    },\n\n    trunc: Math.trunc || function(val) { // (number) -> number\n        return val - val % 1;\n    },\n\n    coordToCellNum: function(x) { // (number) -> number\n        return this.trunc(x * this._reverseCellSize);\n    },\n\n    extendBbox: function(bbox, scaleFactor) { // (Array, Number) -> Array\n        return [\n            bbox[0] - (scaleFactor * this._cellSize),\n            bbox[1] - (scaleFactor * this._cellSize),\n            bbox[2] + (scaleFactor * this._cellSize),\n            bbox[3] + (scaleFactor * this._cellSize)\n        ];\n    }\n};\n\nfunction grid(points, cellSize) {\n    return new Grid(points, cellSize);\n}\n\nmodule.exports = grid;\n},{}],4:[function(require,module,exports){\n'use strict';\n\nconst intersect = require('./intersect.js');\nconst grid = require('./grid.js');\nconst formatUtil = require('./format.js');\nconst convexHull = require('./convex.js');\n\nfunction _filterDuplicates(pointset) {\n    const unique = [pointset[0]];\n    let lastPoint = pointset[0];\n    for (let i = 1; i < pointset.length; i++) {\n        const currentPoint = pointset[i];\n        if (lastPoint[0] !== currentPoint[0] || lastPoint[1] !== currentPoint[1]) {\n            unique.push(currentPoint);\n        }\n        lastPoint = currentPoint;\n    }\n    return unique;\n}\n\nfunction _sortByX(pointset) {\n    return pointset.sort(function(a, b) {\n        return (a[0] - b[0]) || (a[1] - b[1]);\n    });\n}\n\nfunction _sqLength(a, b) {\n    return Math.pow(b[0] - a[0], 2) + Math.pow(b[1] - a[1], 2);\n}\n\nfunction _cos(o, a, b) {\n    const aShifted = [a[0] - o[0], a[1] - o[1]],\n        bShifted = [b[0] - o[0], b[1] - o[1]],\n        sqALen = _sqLength(o, a),\n        sqBLen = _sqLength(o, b),\n        dot = aShifted[0] * bShifted[0] + aShifted[1] * bShifted[1];\n\n    return dot / Math.sqrt(sqALen * sqBLen);\n}\n\nfunction _intersect(segment, pointset) {\n    for (let i = 0; i < pointset.length - 1; i++) {\n        const seg = [pointset[i], pointset[i + 1]];\n        if (segment[0][0] === seg[0][0] && segment[0][1] === seg[0][1] ||\n            segment[0][0] === seg[1][0] && segment[0][1] === seg[1][1]) {\n            continue;\n        }\n        if (intersect(segment, seg)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction _occupiedArea(pointset) {\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n\n    for (let i = pointset.length - 1; i >= 0; i--) {\n        if (pointset[i][0] < minX) {\n            minX = pointset[i][0];\n        }\n        if (pointset[i][1] < minY) {\n            minY = pointset[i][1];\n        }\n        if (pointset[i][0] > maxX) {\n            maxX = pointset[i][0];\n        }\n        if (pointset[i][1] > maxY) {\n            maxY = pointset[i][1];\n        }\n    }\n\n    return [\n        maxX - minX, // width\n        maxY - minY  // height\n    ];\n}\n\nfunction _bBoxAround(edge) {\n    return [\n        Math.min(edge[0][0], edge[1][0]), // left\n        Math.min(edge[0][1], edge[1][1]), // top\n        Math.max(edge[0][0], edge[1][0]), // right\n        Math.max(edge[0][1], edge[1][1])  // bottom\n    ];\n}\n\nfunction _midPoint(edge, innerPoints, convex) {\n    let point = null,\n        angle1Cos = MAX_CONCAVE_ANGLE_COS,\n        angle2Cos = MAX_CONCAVE_ANGLE_COS,\n        a1Cos, a2Cos;\n\n    for (let i = 0; i < innerPoints.length; i++) {\n        a1Cos = _cos(edge[0], edge[1], innerPoints[i]);\n        a2Cos = _cos(edge[1], edge[0], innerPoints[i]);\n\n        if (a1Cos > angle1Cos && a2Cos > angle2Cos &&\n            !_intersect([edge[0], innerPoints[i]], convex) &&\n            !_intersect([edge[1], innerPoints[i]], convex)) {\n\n            angle1Cos = a1Cos;\n            angle2Cos = a2Cos;\n            point = innerPoints[i];\n        }\n    }\n\n    return point;\n}\n\nfunction _concave(convex, maxSqEdgeLen, maxSearchArea, grid, edgeSkipList) {\n    let midPointInserted = false;\n\n    for (let i = 0; i < convex.length - 1; i++) {\n        const edge = [convex[i], convex[i + 1]];\n        // generate a key in the format X0,Y0,X1,Y1\n        const keyInSkipList = edge[0][0] + ',' + edge[0][1] + ',' + edge[1][0] + ',' + edge[1][1];\n\n        if (_sqLength(edge[0], edge[1]) < maxSqEdgeLen ||\n            edgeSkipList.has(keyInSkipList)) { continue; }\n\n        let scaleFactor = 0;\n        let bBoxAround = _bBoxAround(edge);\n        let bBoxWidth;\n        let bBoxHeight;\n        let midPoint;\n        do {\n            bBoxAround = grid.extendBbox(bBoxAround, scaleFactor);\n            bBoxWidth = bBoxAround[2] - bBoxAround[0];\n            bBoxHeight = bBoxAround[3] - bBoxAround[1];\n\n            midPoint = _midPoint(edge, grid.rangePoints(bBoxAround), convex);\n            scaleFactor++;\n        }  while (midPoint === null && (maxSearchArea[0] > bBoxWidth || maxSearchArea[1] > bBoxHeight));\n\n        if (bBoxWidth >= maxSearchArea[0] && bBoxHeight >= maxSearchArea[1]) {\n            edgeSkipList.add(keyInSkipList);\n        }\n\n        if (midPoint !== null) {\n            convex.splice(i + 1, 0, midPoint);\n            grid.removePoint(midPoint);\n            midPointInserted = true;\n        }\n    }\n\n    if (midPointInserted) {\n        return _concave(convex, maxSqEdgeLen, maxSearchArea, grid, edgeSkipList);\n    }\n\n    return convex;\n}\n\nfunction hull(pointset, concavity, format) {\n    let maxEdgeLen = concavity || 20;\n\n    const points = _filterDuplicates(_sortByX(formatUtil.toXy(pointset, format)));\n\n    if (points.length < 4) {\n        const concave = points.concat([points[0]]);\n        return format ? formatUtil.fromXy(concave, format) : concave;\n    }\n\n    const occupiedArea = _occupiedArea(points);\n    const maxSearchArea = [\n        occupiedArea[0] * MAX_SEARCH_BBOX_SIZE_PERCENT,\n        occupiedArea[1] * MAX_SEARCH_BBOX_SIZE_PERCENT\n    ];\n\n    const convex = convexHull(points);\n    const innerPoints = points.filter(function(pt) {\n        return convex.indexOf(pt) < 0;\n    });\n\n    const cellSize = Math.ceil(1 / (points.length / (occupiedArea[0] * occupiedArea[1])));\n\n    const concave = _concave(\n        convex, Math.pow(maxEdgeLen, 2),\n        maxSearchArea, grid(innerPoints, cellSize), new Set());\n\n    return format ? formatUtil.fromXy(concave, format) : concave;\n}\n\nconst MAX_CONCAVE_ANGLE_COS = Math.cos(90 / (180 / Math.PI)); // angle = 90 deg\nconst MAX_SEARCH_BBOX_SIZE_PERCENT = 0.6;\n\nmodule.exports = hull;\n\n},{\"./convex.js\":1,\"./format.js\":2,\"./grid.js\":3,\"./intersect.js\":5}],5:[function(require,module,exports){\nfunction ccw(x1, y1, x2, y2, x3, y3) {           \n    const cw = ((y3 - y1) * (x2 - x1)) - ((y2 - y1) * (x3 - x1));\n    return cw > 0 ? true : cw < 0 ? false : true; // colinear\n}\n\nfunction intersect(seg1, seg2) {\n  const x1 = seg1[0][0], y1 = seg1[0][1],\n      x2 = seg1[1][0], y2 = seg1[1][1],\n      x3 = seg2[0][0], y3 = seg2[0][1],\n      x4 = seg2[1][0], y4 = seg2[1][1];\n\n    return ccw(x1, y1, x3, y3, x4, y4) !== ccw(x2, y2, x3, y3, x4, y4) && ccw(x1, y1, x2, y2, x3, y3) !== ccw(x1, y1, x2, y2, x4, y4);\n}\n\nmodule.exports = intersect;\n},{}]},{},[4])(4)\n});\n"],"names":[],"version":3,"file":"concave-hull.js.map"}