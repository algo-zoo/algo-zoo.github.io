!function(e,t,r,n,o){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof i[n]&&i[n],a=s.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(t,r){if(!a[t]){if(!e[t]){var o="function"==typeof i[n]&&i[n];if(!r&&o)return o(t,!0);if(s)return s(t,!0);if(l&&"string"==typeof t)return l(t);var d=Error("Cannot find module '"+t+"'");throw d.code="MODULE_NOT_FOUND",d}p.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},p.cache={};var f=a[t]=new u.Module(t);e[t][0].call(f.exports,p,f,f.exports,i)}return a[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=a,u.parent=s,u.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(u,"root",{get:function(){return i[n]}}),i[n]=u;for(var d=0;d<t.length;d++)u(t[d]);if(r){var f=u(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof define&&define.amd&&define(function(){return f})}}({fe6ob:[function(e,t,r,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var o=e("./ColorCode.js"),i=e("./UnionFind.js"),s=e("./Graph.js");class a extends s.UndirectedGraph{onestep(e=!0){if(!this.is_connected()){alert("Error: The graph is not a connected graph.");return}if(0==this.queue.length)return;let t=this.queue.shift();(0,i.UnionFind).isSame(this.uf,t.from,t.to)?t.dashed=!0:(this.mst.push(t),(0,i.UnionFind).unite(this.uf,t.from,t.to),t.color=o.red),e&&this.refresh()}kruskal(){for(;this.queue.length>0;)this.onestep(!1);this.refresh()}initialize(){for(let e of this.E.get_edges())e.dashed=!1,e.color=o.black;this.queue=this.E.get_edges().sort((e,t)=>e.weight-t.weight),this.uf=(0,i.UnionFind).create(this.queue.length),this.mst=[]}setup(){super.setup(),this.reset()}reset(){this.initialize(),this.refresh()}table_refresh(){for(let e of($("#data_tbl td").parent().empty(),0==$("#data_tbl tbody").length&&$("#data_tbl").append($("<tbody>")),this.E.get_edges())){let t="("+e.from.toString()+", "+e.to.toString()+")";$("#data_tbl tbody").append("<tr><td>"+t+"</td><td>"+e.weight.toString()+"</td><td>"+(e.dashed?"不採用":e.color==o.red?"採用":"")+"</td></tr>")}}matrix_change(e,t,r){super.matrix_change(e,t,r),this.reset()}refresh(){this.table_refresh(),super.refresh()}graph_select(){super.graph_select(),this.reset()}}let l=new a;window.setup=l.setup.bind(l),window.draw=l.draw.bind(l),window.mouseMoved=l.mouseMoved.bind(l),window.mouseReleased=l.mouseReleased.bind(l),window.matrix_change=l.matrix_change.bind(l),$(document).ready(function(){$("#add").click(()=>l.change_mode()),$("#search").click(()=>l.onestep()),$("#goal").click(()=>l.kruskal()),$("#reset").click(()=>l.reset()),$("#graph-select").change(()=>l.graph_select())})},{"./ColorCode.js":"fgi4l","./UnionFind.js":"8k1nv","./Graph.js":"fmzMd","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],fgi4l:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){return console.assert(0<=e&&e<=255,"Scale error"),[e,e,e]}function s(e,t,r){console.assert(0<=e&&e<=360,"Scale error"),console.assert(0<=t&&t<=100,"Scale error"),console.assert(0<=r&&r<=100,"Scale error");var n,o=function(e){return 0|Math.round(255*e)},i=t/100,s=r/100;if(0===t){var a=o(s);return[a,a,a]}var l=e/60,u=0|Math.floor(l),d=l-u,f=s*(1-i),p=s*(1-i*d),c=s*(1-i*(1-d));switch(u){case 0:n=[s,c,f];break;case 1:n=[p,s,f];break;case 2:n=[f,s,c];break;case 3:n=[f,p,s];break;case 4:n=[c,f,s];break;default:n=[s,f,p]}return[o(n[0]),o(n[1]),o(n[2])]}o.defineInteropFlag(r),o.export(r,"grayScale",()=>i),o.export(r,"hsv",()=>s),o.export(r,"black",()=>a),o.export(r,"dark",()=>l),o.export(r,"gray",()=>u),o.export(r,"lightGray",()=>d),o.export(r,"white",()=>f),o.export(r,"red",()=>p),o.export(r,"yellow",()=>c),o.export(r,"blue",()=>h),o.export(r,"lightBlue",()=>_),o.export(r,"orange",()=>m);var a=i(0),l=i(30),u=i(120),d=i(180),f=i(255),p=s(18,80,100),c=s(57,80,100),h=s(200,80,100),_=s(200,20,100),m=s(40,80,100)},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],jBTt3:[function(e,t,r,n){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],"8k1nv":[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"UnionFind",()=>l);var i=e("rescript/lib/es6/caml_obj.js"),s=e("@rescript/core/src/Core__Array.js");function a(e,t){var r=e.parents[t];if(void 0===r)return t;var n=a(e,r);return e.parents[t]=n,n}var l={create:function(e){return{n:e,parents:s.make(e,void 0),groupSizes:s.make(e,1)}},root:a,isSame:function(e,t,r){return a(e,t)===a(e,r)},unite:function(e,t,r){for(;;){var n=r,o=a(e,t),s=a(e,n);if(o===s)return;if(i.lessthan(e.groupSizes[o],e.groupSizes[s])){r=o,t=s;continue}e.parents[s]=o,e.groupSizes[o]=e.groupSizes[o]+e.groupSizes[s]|0,e.groupSizes[s]=0;return}},size:function(e,t){return e.groupSizes[a(e,t)]}}},{"rescript/lib/es6/caml_obj.js":"e42S9","@rescript/core/src/Core__Array.js":"kmH7i","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],e42S9:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"obj_dup",()=>a),o.export(r,"update_dummy",()=>l),o.export(r,"compare",()=>u),o.export(r,"equal",()=>f),o.export(r,"equal_null",()=>p),o.export(r,"equal_undefined",()=>c),o.export(r,"equal_nullable",()=>h),o.export(r,"notequal",()=>_),o.export(r,"greaterequal",()=>m),o.export(r,"greaterthan",()=>g),o.export(r,"lessthan",()=>E),o.export(r,"lessequal",()=>x),o.export(r,"min",()=>v),o.export(r,"max",()=>b);var i=e("./caml.js"),s=function(e,t){for(var r in e)t(r)},a=function(e){if(Array.isArray(e)){for(var t=e.length,r=Array(t),n=0;n<t;++n)r[n]=e[n];return void 0!==e.TAG&&(r.TAG=e.TAG),r}return Object.assign({},e)},l=function(e,t){var r;if(Array.isArray(t)){for(r=0;r<t.length;++r)e[r]=t[r];void 0!==t.TAG&&(e.TAG=t.TAG)}else for(var r in t)e[r]=t[r]};function u(e,t){if(e===t)return 0;var r=typeof e,n=typeof t;switch(r){case"bigint":if("bigint"===n)return i.float_compare(e,t);break;case"boolean":if("boolean"===n)return i.bool_compare(e,t);break;case"function":if("function"===n)throw{RE_EXN_ID:"Invalid_argument",_1:"compare: functional value",Error:Error()};break;case"number":if("number"===n)return i.float_compare(e,t);break;case"string":if("string"===n)return i.string_compare(e,t);return 1;case"undefined":return -1}switch(n){case"string":return -1;case"undefined":return 1;default:if("boolean"===r)return 1;if("boolean"===n)return -1;if("function"===r)return 1;if("function"===n)return -1;if("number"===r){if(null===t||void 0!==t.BS_PRIVATE_NESTED_SOME_NONE)return 1;return -1}if("number"===n){if(null===e||void 0!==e.BS_PRIVATE_NESTED_SOME_NONE)return -1;return 1}if(null===e){if(void 0!==t.BS_PRIVATE_NESTED_SOME_NONE)return 1;return -1}if(null===t){if(void 0!==e.BS_PRIVATE_NESTED_SOME_NONE)return -1;return 1}if(void 0!==e.BS_PRIVATE_NESTED_SOME_NONE){if(void 0!==t.BS_PRIVATE_NESTED_SOME_NONE)return d(e,t);return -1}var o=e.TAG,s=t.TAG;if(248===o)return i.int_compare(e[1],t[1]);if(251===o)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:Error()};if(o!==s){if(o<s)return -1;return 1}var a=0|e.length,l=0|t.length;if(a===l){if(Array.isArray(e))for(var f=0;;){var p=f;if(p===a)return 0;var c=u(e[p],t[p]);if(0!==c)return c;f=p+1|0}else if(e instanceof Date&&t instanceof Date)return e-t;else return d(e,t)}else if(a<l)for(var h=0;;){var _=h;if(_===a)return -1;var m=u(e[_],t[_]);if(0!==m)return m;h=_+1|0}else for(var g=0;;){var x=g;if(x===l)return 1;var E=u(e[x],t[x]);if(0!==E)return E;g=x+1|0}}}function d(e,t){var r={contents:void 0},n={contents:void 0},o=function(e,t){var r=e[2],n=e[1];if(!Object.prototype.hasOwnProperty.call(n,t)||u(e[0][t],n[t])>0){var o=r.contents;if(void 0!==o&&t>=o)return;r.contents=t;return}},a=[e,t,n],l=[t,e,r];s(e,function(e){return o(a,e)}),s(t,function(e){return o(l,e)});var d=r.contents,f=n.contents;return void 0!==d?void 0!==f?i.string_compare(d,f):-1:+(void 0!==f)}function f(e,t){if(e===t)return!0;var r=typeof e;if("string"===r||"number"===r||"bigint"===r||"boolean"===r||"undefined"===r||null===e)return!1;var n=typeof t;if("function"===r||"function"===n)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: functional value",Error:Error()};if("number"===n||"bigint"===n||"undefined"===n||null===t)return!1;var o=e.TAG,i=t.TAG;if(248===o)return e[1]===t[1];if(251===o)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:Error()};if(o!==i)return!1;var a=0|e.length;if(a!==(0|t.length))return!1;if(Array.isArray(e))for(var l=0;;){var u=l;if(u===a)return!0;if(!f(e[u],t[u]))return!1;l=u+1|0}else{if(e instanceof Date&&t instanceof Date)return!(e>t||e<t);var d={contents:!0};return s(e,function(e){if(!Object.prototype.hasOwnProperty.call(t,e)){d.contents=!1;return}}),d.contents&&s(t,function(r){if(!Object.prototype.hasOwnProperty.call(e,r)||!f(t[r],e[r])){d.contents=!1;return}}),d.contents}}function p(e,t){return null!==t?f(e,t):e===t}function c(e,t){return void 0!==t?f(e,t):e===t}function h(e,t){return null==t?e===t:f(e,t)}function _(e,t){return("number"==typeof e||"bigint"==typeof e)&&("number"==typeof t||"bigint"==typeof t)?e!==t:!f(e,t)}function m(e,t){return("number"==typeof e||"bigint"==typeof e)&&("number"==typeof t||"bigint"==typeof t)?e>=t:u(e,t)>=0}function g(e,t){return("number"==typeof e||"bigint"==typeof e)&&("number"==typeof t||"bigint"==typeof t)?e>t:u(e,t)>0}function x(e,t){return("number"==typeof e||"bigint"==typeof e)&&("number"==typeof t||"bigint"==typeof t)?e<=t:0>=u(e,t)}function E(e,t){return("number"==typeof e||"bigint"==typeof e)&&("number"==typeof t||"bigint"==typeof t)?e<t:0>u(e,t)}function v(e,t){return 0>=u(e,t)?e:t}function b(e,t){return u(e,t)>=0?e:t}},{"./caml.js":"7scqq","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],"7scqq":[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e,t){return e<t?-1:+(e!==t)}function s(e,t){return e?+!t:t?-1:0}function a(e,t){return e===t?0:e<t?-1:e>t||e==e?1:t==t?-1:0}function l(e,t){return e<t?-1:+(e!==t)}function u(e,t){return e===t?0:e<t?-1:1}function d(e,t){return e?t:e}function f(e,t){return e<t?e:t}function p(e,t){return e<t?e:t}function c(e,t){return e<t?e:t}function h(e,t){return e||t}function _(e,t){return e>t?e:t}function m(e,t){return e>t?e:t}function g(e,t){return e>t?e:t}function x(e,t){return e[1]===t[1]&&e[0]===t[0]}function E(e,t){var r=t[0],n=e[0];return n>r||!(n<r)&&e[1]>=t[1]}function v(e,t){return!x(e,t)}function b(e,t){return!E(e,t)}function y(e,t){return e[0]>t[0]||!(e[0]<t[0])&&e[1]>t[1]}function j(e,t){return!y(e,t)}function w(e,t){return E(e,t)?t:e}function S(e,t){return y(e,t)?e:t}o.defineInteropFlag(r),o.export(r,"int_compare",()=>i),o.export(r,"bool_compare",()=>s),o.export(r,"float_compare",()=>a),o.export(r,"bigint_compare",()=>l),o.export(r,"string_compare",()=>u),o.export(r,"bool_min",()=>d),o.export(r,"int_min",()=>f),o.export(r,"float_min",()=>p),o.export(r,"string_min",()=>c),o.export(r,"bool_max",()=>h),o.export(r,"int_max",()=>_),o.export(r,"float_max",()=>m),o.export(r,"string_max",()=>g),o.export(r,"i64_eq",()=>x),o.export(r,"i64_neq",()=>v),o.export(r,"i64_lt",()=>b),o.export(r,"i64_gt",()=>y),o.export(r,"i64_le",()=>j),o.export(r,"i64_ge",()=>E),o.export(r,"i64_min",()=>w),o.export(r,"i64_max",()=>S)},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],kmH7i:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"make",()=>s),o.export(r,"fromInitializer",()=>a),o.export(r,"equal",()=>l),o.export(r,"compare",()=>u),o.export(r,"indexOfOpt",()=>d),o.export(r,"lastIndexOfOpt",()=>f),o.export(r,"reduce",()=>p),o.export(r,"reduceWithIndex",()=>c),o.export(r,"reduceRight",()=>h),o.export(r,"reduceRightWithIndex",()=>_),o.export(r,"findIndexOpt",()=>m),o.export(r,"filterMap",()=>E),o.export(r,"keepSome",()=>v),o.export(r,"toShuffled",()=>x),o.export(r,"shuffle",()=>g),o.export(r,"findMap",()=>b),o.export(r,"last",()=>y);var i=e("rescript/lib/es6/caml_option.js");function s(e,t){if(e<=0)return[];var r=Array(e);return r.fill(t),r}function a(e,t){if(e<=0)return[];for(var r=Array(e),n=0;n<e;++n)r[n]=t(n);return r}function l(e,t,r){var n=e.length;if(n!==t.length)return!1;for(var o=0;;){var i=o;if(i===n)return!0;if(!r(e[i],t[i]))return!1;o=i+1|0}}function u(e,t,r){var n=e.length,o=t.length;if(n<o)return -1;if(n>o)return 1;for(var i=0;;){var s=i;if(s===n)return 0;var a=r(e[s],t[s]);if(0!==a)return a;i=s+1|0}}function d(e,t){var r=e.indexOf(t);if(-1!==r)return r}function f(e,t){var r=e.lastIndexOf(t);if(-1!==r)return r}function p(e,t,r){return e.reduce(r,t)}function c(e,t,r){return e.reduce(r,t)}function h(e,t,r){return e.reduceRight(r,t)}function _(e,t,r){return e.reduceRight(r,t)}function m(e,t){var r=e.findIndex(t);if(-1!==r)return r}function g(e){for(var t,r=e.length,n=0;n<r;++n)!function(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}(e,n,(0|Math.floor(Math.random()*(r-(t=n)|0)))+t|0)}function x(e){var t=e.slice();return g(t),t}function E(e,t){for(var r=e.length,n=Array(r),o=0,s=0;s<r;++s){var a=t(e[s]);void 0!==a&&(n[o]=i.valFromOption(a),o=o+1|0)}return n.length=o,n}function v(e){return E(e,function(e){return e})}function b(e,t){for(var r=0;;){var n=r;if(n===e.length)return;var o=t(e[n]);if(void 0!==o)return o;r=n+1|0}}function y(e){return e[e.length-1|0]}},{"rescript/lib/es6/caml_option.js":"lBDcT","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],lBDcT:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){return void 0!==e.BS_PRIVATE_NESTED_SOME_NONE}function s(e){return void 0===e?{BS_PRIVATE_NESTED_SOME_NONE:0}:null!==e&&void 0!==e.BS_PRIVATE_NESTED_SOME_NONE?{BS_PRIVATE_NESTED_SOME_NONE:e.BS_PRIVATE_NESTED_SOME_NONE+1|0}:e}function a(e){if(null!=e)return s(e)}function l(e){if(void 0!==e)return s(e)}function u(e){if(null!==e)return s(e)}function d(e){if(null===e||void 0===e.BS_PRIVATE_NESTED_SOME_NONE)return e;var t=e.BS_PRIVATE_NESTED_SOME_NONE;if(0!==t)return{BS_PRIVATE_NESTED_SOME_NONE:t-1|0}}function f(e){if(void 0!==e)return d(e)}function p(e){return void 0!==e?e.VAL:e}o.defineInteropFlag(r),o.export(r,"nullable_to_opt",()=>a),o.export(r,"undefined_to_opt",()=>l),o.export(r,"null_to_opt",()=>u),o.export(r,"valFromOption",()=>d),o.export(r,"some",()=>s),o.export(r,"isNested",()=>i),o.export(r,"option_get",()=>f),o.export(r,"option_unwrap",()=>p)},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],fmzMd:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"Graph",()=>u),o.export(r,"DirectedGraph",()=>d),o.export(r,"UndirectedGraph",()=>f);var i=e("./ColorCode.js"),s=e("./DrawUtil.js");class a{constructor(){this.node_r=25,this.nodes=[]}draw_node(e){drawingContext.setLineDash([]);let t=2*this.node_r;strokeWeight(2),stroke.apply(null,i.black),fill.apply(null,e.color),ellipse(e.x,e.y,t,t),textAlign(CENTER,CENTER),fill(0),textSize(24),text(e.label,e.x,e.y)}make(e,t,r,n=i.white){return{label:e,x:t,y:r,color:n}}add(...e){let t=this.make.apply(this,e);this.nodes.push(t)}modify(e,t){this.nodes=this.nodes.map(r=>r==e?t:r)}get(e){return this.nodes[e]}get_index(e){return this.nodes.findIndex(t=>t.label==e)}get_node_from_canvas(e,t){return this.nodes.find(r=>(0,s.calc_dist)(e,t,r.x,r.y)<=this.node_r)}get_nodes(){return this.nodes}get_labels(){return this.nodes.map(e=>e.label)}get_size(){return this.nodes.length}draw(){this.nodes.forEach(this.draw_node,this)}}class l{constructor(e,t){this.V=e,this.edges=[],this.directed=t}draw_arrow_head(e,t,r,n,o){strokeWeight(2),fill.apply(null,o),stroke.apply(null,o);let[i,a]=(0,s.calc_edge_point)(r,n,e,t,r,n,10),[l,u]=(0,s.rotation)(r,n,i,a,Math.PI/8),[d,f]=(0,s.rotation)(r,n,i,a,-Math.PI/8);triangle(r,n,l,u,d,f)}draw_arrow(e,t,r,n,o){strokeWeight(2),fill.apply(null,o),stroke.apply(null,o),line(e,t,r,n),this.directed&&this.draw_arrow_head(e,t,r,n,o)}draw_curve_arrow(e,t,r,n,o,i,s){strokeWeight(2),noFill(),stroke.apply(null,s),bezier(e,t,o,i,o,i,r,n),this.draw_arrow_head(o,i,r,n,s)}draw_label(e,t,r){textAlign(CENTER,CENTER),fill(0),stroke.apply(null,i.white),strokeWeight(5),textSize(24),text(e,t,r)}draw_edge(e){if(0==e.weight)return;drawingContext.setLineDash(e.dashed?[5]:[]);let[t,r]=[this.V.get(e.from),this.V.get(e.to)],[n,o]=[t.x,t.y],[i,a]=[r.x,r.y],[l,u]=[(n+i)/2,(o+a)/2],d=1.4*this.V.node_r,[f,p]=(0,s.calc_edge_point)(n,o,i,a,n,o,d),[c,h]=(0,s.calc_edge_point)(i,a,n,o,i,a,d),_=this.get(e.to,e.from);if(this.directed&&_){let t=[i-n,a-o],r=Math.sqrt(t[0]*t[0]+t[1]*t[1]),s=[t[0]/r,t[1]/r],_=[-s[1]*d,s[0]*d],[m,g]=[l+_[0],u+_[1]],[x,E]=[f+.25*_[0],p+.25*_[1]],[v,b]=[c+.25*_[0],h+.25*_[1]];this.draw_curve_arrow(x,E,v,b,m,g,e.color),this.draw_label(e.weight,m,g)}else this.draw_arrow(f,p,c,h,e.color),this.draw_label(e.weight,l,u)}get0(e,t){return"number"==typeof e?this.get_edges().find(r=>r.from==e&&r.to==t):this.get_edges().find(r=>this.V.get(r.from)==e&&this.V.get(r.to)==t)}get(e,t){return this.directed?this.get0(e,t):this.get0(e,t)||this.get0(t,e)}get_edges(){return this.edges.filter(e=>0!=e.weight)}draw(){this.edges.forEach(this.draw_edge,this)}make(e,t,r){return{from:this.V.get_index(e),to:this.V.get_index(t),weight:r,color:i.black,dashed:!1}}add(...e){let t=this.make.apply(this,e);this.edges.push(t)}modify(e,t,r){let n=(e,t)=>this.V.get(e)==t;this.edges=this.edges.map(o=>n(o.from,e)&&n(o.to,t)?r:o)}get_html(e,t){if(e==t)return"<td>0</td>";if(this.directed||e<t){let r=this.get(e,t);return'<td><input class="alg-input" type="number" onchange="matrix_change('+String(e)+","+String(t)+',this.value)" type="text" value="'+String(r?r.weight:0)+'"></td>'}{let r=this.get(t,e);return"<td>"+String(r?r.weight:0)+"</td>"}}}class u{static normal_mode=0;static add_mode=1;static edit_mode=2;constructor(e=!0){this.V=new a,this.E=new l(this.V,e),this.mode=u.normal_mode,this.edit_mode=null}graph_reset(){this.V.nodes=[],this.E.edges=[]}matrix_change(e,t,r){let[n,o]=[this.V.get(e),this.V.get(t)],i=this.E.get(e,t),s=parseInt(r);if(i){let e=this.E.make(n.label,o.label,s);this.E.modify(n,o,e)}else this.E.add(n.label,o.label,s);this.refresh()}matrix_refresh(){$("#matrix_tbl").empty().append($("<thead>"),$("<tbody>")),$("#matrix_tbl thead").append(["<tr>",'<td class="gray"></td>',this.V.get_labels().map(e=>'<td class="gray text-center">'+e+"</td>").join(""),"</tr>"].join(""));for(let e=0;e<this.V.get_size();e++){let t=this.V.get(e);$("#matrix_tbl tbody").append(["<tr>",'<td class="gray">'+t.label+"</td>",Array.from(Array(this.V.get_size())).map((function(t,r){return this.E.get_html(e,r)}).bind(this)).join(""),"</tr>"].join(""))}}debug_output(){console.log("----");let e=[],t=[];for(let t of this.V.get_nodes())e.push("["+['"'+t.label+'"',parseInt(t.x),parseInt(t.y)].join(", ")+"]");for(let e of this.E.get_edges()){let r=this.V.get(e.from),n=this.V.get(e.to);t.push("["+['"'+r.label+'"','"'+n.label+'"',e.weight].join(", ")+"]")}console.log(e.join(",\n")),console.log(t.join(",\n"))}refresh(){this.matrix_refresh(),redraw()}change_mode(e=u.add_mode){e==u.add_mode&&""==$("#node_label").val()?alert("エラー: 頂点名が空です"):(this.mode=e,this.refresh())}draw(){if(background(this.mode==u.add_mode||this.mode==u.edit_mode?i.gray:i.lightGray),this.V.draw(),this.E.draw(),this.mode==u.add_mode||this.mode==u.edit_mode){strokeWeight(2),stroke.apply(null,i.black),drawingContext.setLineDash([10,10]),line(mouseX,0,mouseX,1e3),line(0,mouseY,1e3,mouseY);let e=this.mode==u.add_mode?$("#node_label").val():this.editing_node.label;this.V.draw_node(this.V.make(e,mouseX,mouseY,i.orange))}}setup(){createCanvas(1e3,1e3).parent("canvas-hole"),noLoop()}mouseMoved(){(this.mode==u.add_mode||this.mode==u.edit_mode)&&redraw()}mouseReleased(){if(this.mode==u.add_mode){let e=$("#node_label").val();this.V.add(e,mouseX,mouseY),$("#node_label").val(""),this.change_mode(u.normal_mode)}else if(this.mode==u.edit_mode)this.editing_node.x=mouseX,this.editing_node.y=mouseY,this.editing_node=null,this.change_mode(u.normal_mode);else{let e=this.V.get_node_from_canvas(mouseX,mouseY);e&&(this.editing_node=e,this.change_mode(u.edit_mode))}}}class d extends u{constructor(){super(!0)}load_sample(e){this.graph_reset(),1==e?([["A",97,493],["B",258,351],["C",334,593],["D",615,354],["E",521,572],["F",802,503]].map(e=>this.V.add.apply(this.V,e)),[["A","B",3],["A","C",5],["B","C",4],["B","D",13],["C","E",4],["C","D",9],["D","F",2],["E","D",7],["E","F",8]].map(e=>this.E.add.apply(this.E,e))):2==e?([["A",110,500],["B",240,340],["C",240,650],["D",480,340],["E",480,500],["F",480,650],["G",710,340],["H",710,650],["I",880,500]].map(e=>this.V.add.apply(this.V,e)),[["A","B",4],["A","C",8],["B","C",11],["B","D",8],["C","E",7],["D","E",2],["D","H",4],["D","G",7],["E","F",6],["C","F",1],["F","H",2],["G","H",14],["G","I",9],["H","I",10]].map(e=>this.E.add.apply(this.E,e))):3==e?([["A",480,290],["B",212,450],["C",480,450],["D",777,450],["E",148,620],["F",265,620],["G",411,620],["H",559,620],["I",727,620],["J",850,620],["K",315,780],["L",445,780],["M",523,780],["N",635,780],["O",850,780]].map(e=>this.V.add.apply(this.V,e)),[["A","B",1],["A","C",1],["A","D",1],["B","E",1],["B","F",1],["C","G",1],["C","H",1],["D","I",1],["D","J",1],["G","K",1],["G","L",1],["H","M",1],["H","N",1],["J","O",1]].map(e=>this.E.add.apply(this.E,e))):4==e&&([["00",150,275],["10",150,425],["20",150,575],["30",150,725],["40",150,875],["01",300,275],["11",300,425],["21",300,575],["31",300,725],["41",300,875],["02",450,275],["12",450,425],["22",450,575],["32",450,725],["42",450,875],["03",600,275],["13",600,425],["23",600,575],["33",600,725],["43",600,875],["04",750,275],["14",750,425],["24",750,575],["34",750,725],["44",750,875]].map(e=>this.V.add.apply(this.V,e)),[["00","01",1],["01","00",1],["00","10",1],["10","00",1],["00","10",1],["10","00",1],["01","02",1],["02","01",1],["02","12",1],["12","02",1],["02","12",1],["12","02",1],["04","14",1],["14","04",1],["04","14",1],["14","04",1],["10","20",1],["20","10",1],["10","20",1],["20","10",1],["12","13",1],["13","12",1],["12","22",1],["22","12",1],["12","22",1],["22","12",1],["13","14",1],["14","13",1],["14","24",1],["24","14",1],["14","24",1],["24","14",1],["20","30",1],["30","20",1],["20","30",1],["30","20",1],["22","32",1],["32","22",1],["22","32",1],["32","22",1],["24","34",1],["34","24",1],["24","34",1],["34","24",1],["30","40",1],["40","30",1],["30","40",1],["40","30",1],["32","33",1],["33","32",1],["32","42",1],["42","32",1],["32","42",1],["42","32",1],["33","34",1],["34","33",1],["33","43",1],["43","33",1],["33","43",1],["43","33",1],["34","44",1],["44","34",1],["34","44",1],["44","34",1],["40","41",1],["41","40",1],["41","42",1],["42","41",1],["42","43",1],["43","42",1],["43","44",1],["44","43",1]].map(e=>this.E.add.apply(this.E,e))),this.refresh()}graph_select(){let e=parseInt($("#graph-select").val());this.load_sample(e)}}class f extends u{constructor(){super(!1)}is_connected(){let e=this,t=new Set;return!function r(n){t.add(n);for(let o=0;o<e.V.get_size();o++)!t.has(o)&&e.E.get(n,o)&&r(o)}(0),this.V.get_size()==t.size}load_sample(e){this.graph_reset(),1==e?([["0",669,458],["1",309,508],["2",464,227],["3",512,508],["4",162,361],["5",829,338],["6",361,387],["7",536,388]].map(e=>this.V.add.apply(this.V,e)),[["0","3",5],["0","5",6],["0","7",3],["1","3",8],["1","6",3],["1","4",4],["2","4",9],["2","5",10],["2","7",5],["3","7",6],["4","6",2],["6","7",7]].map(e=>this.E.add.apply(this.E,e))):2==e?([["A",110,340],["B",240,180],["C",240,490],["D",480,180],["E",480,340],["F",480,490],["G",710,180],["H",710,490],["I",880,340]].map(e=>this.V.add.apply(this.V,e)),[["A","B",4],["A","C",8],["B","C",11],["B","D",8],["C","E",7],["D","E",2],["D","H",4],["D","G",7],["E","F",6],["C","F",1],["F","H",2],["G","H",14],["G","I",9],["H","I",10]].map(e=>this.E.add.apply(this.E,e))):3==e?([["A",480,90],["B",212,250],["C",480,250],["D",777,250],["E",148,420],["F",265,420],["G",411,420],["H",559,420],["I",727,420],["J",850,420],["K",315,580],["L",445,580],["M",523,580],["N",635,580],["O",850,580]].map(e=>this.V.add.apply(this.V,e)),[["A","B",1],["A","C",1],["A","D",1],["B","E",1],["B","F",1],["C","G",1],["C","H",1],["D","I",1],["D","J",1],["G","K",1],["G","L",1],["H","M",1],["H","N",1],["J","O",1]].map(e=>this.E.add.apply(this.E,e))):4==e&&([["00",150,275],["10",150,425],["20",150,575],["30",150,725],["40",150,875],["01",300,275],["11",300,425],["21",300,575],["31",300,725],["41",300,875],["02",450,275],["12",450,425],["22",450,575],["32",450,725],["42",450,875],["03",600,275],["13",600,425],["23",600,575],["33",600,725],["43",600,875],["04",750,275],["14",750,425],["24",750,575],["34",750,725],["44",750,875]].map(e=>this.V.add.apply(this.V,e)),[["00","01",1],["00","10",1],["00","10",1],["01","02",1],["02","12",1],["02","12",1],["04","14",1],["04","14",1],["10","20",1],["10","20",1],["12","13",1],["12","22",1],["12","22",1],["13","14",1],["14","24",1],["14","24",1],["20","30",1],["20","30",1],["22","32",1],["22","32",1],["24","34",1],["24","34",1],["30","40",1],["30","40",1],["32","33",1],["32","42",1],["32","42",1],["33","34",1],["33","43",1],["33","43",1],["34","44",1],["34","44",1],["40","41",1],["41","42",1],["42","43",1],["43","44",1]].map(e=>this.E.add.apply(this.E,e))),this.refresh()}graph_select(){let e=parseInt($("#graph-select").val());this.load_sample(e)}}},{"./ColorCode.js":"fgi4l","./DrawUtil.js":"d335M","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],d335M:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"strokeWeight",()=>f),o.export(r,"textSize",()=>p),o.export(r,"nodeRadius",()=>c),o.export(r,"drawNode",()=>a),o.export(r,"epsilon",()=>h),o.export(r,"calc_dist",()=>l),o.export(r,"calc_edge_point",()=>u),o.export(r,"rotation",()=>d);var i=e("./P5.js"),s=e("./ColorCode.js");function a(e,t,r){strokeWeight(2),i.fillColor(s.white),ellipse(e,t,50,50),textAlign(CENTER,CENTER),textSize(24),i.fillColor(s.black),text(r,e,t)}var l=function(e,t,r,n){return Math.sqrt((e-r)**2+(t-n)**2)},u=function(e,t,r,n,o,i,s){e==r&&(e+=h);let a=(n-t)/(r-e),u=s/Math.sqrt(1+a*a),[d,f]=[e+u,t+a*u],[p,c]=[e-u,t-a*u],[_,m]=[(e+r)/2,(t+n)/2];return l(d,f,_,m)<l(p,c,_,m)?[d,f]:[p,c]},d=function(e,t,r,n,o){return[(r-e)*Math.cos(o)-(n-t)*Math.sin(o)+e,(r-e)*Math.sin(o)+(n-t)*Math.cos(o)+t]},f=2,p=24,c=25,h=1e-5},{"./P5.js":"kRQjY","./ColorCode.js":"fgi4l","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],kRQjY:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){fill.apply(null,e)}function s(e){stroke.apply(null,e)}o.defineInteropFlag(r),o.export(r,"fillColor",()=>i),o.export(r,"strokeColor",()=>s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}]},["fe6ob"],"fe6ob","parcelRequire94c2");
//# sourceMappingURL=Kruskal.js.map
