!function(e,t,r,o,s){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n="function"==typeof i[o]&&i[o],l=n.cache||{},a="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,r){if(!l[t]){if(!e[t]){var s="function"==typeof i[o]&&i[o];if(!r&&s)return s(t,!0);if(n)return n(t,!0);if(a&&"string"==typeof t)return a(t);var h=Error("Cannot find module '"+t+"'");throw h.code="MODULE_NOT_FOUND",h}c.resolve=function(r){var o=e[t][1][r];return null!=o?o:r},c.cache={};var u=l[t]=new d.Module(t);e[t][0].call(u.exports,c,u,u.exports,i)}return l[t].exports;function c(e){var t=c.resolve(e);return!1===t?{}:d(t)}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.exports={}},d.modules=e,d.cache=l,d.parent=n,d.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(d,"root",{get:function(){return i[o]}}),i[o]=d;for(var h=0;h<t.length;h++)d(t[h]);if(r){var u=d(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define(function(){return u})}}({cI9CU:[function(e,t,r,o){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var s=e("./ColorCode.js"),i=e("./DrawUtil.js");class n{constructor(){this.node_r=25,this.nodes=[],[["0",669,458],["1",309,508],["2",464,227],["3",512,508],["4",162,361],["5",829,338],["6",361,387],["7",536,388]].forEach(e=>this.add.apply(this,e))}draw_node(e){let t=2*this.node_r;strokeWeight(2),stroke.apply(null,s.black),fill.apply(null,e.color),ellipse(e.x,e.y,t,t),textAlign(CENTER,CENTER),fill(0),textSize(24),text(e.label,e.x,e.y)}make(e,t,r,o=s.white){return{label:e,x:t,y:r,color:o}}add(...e){let t=this.make.apply(this,e);this.nodes.push(t)}modify(e,t){this.nodes=this.nodes.map(r=>r==e?t:r)}get(e){return this.nodes[e]}get_index(e){return this.nodes.findIndex(t=>t.label==e)}get_node_from_canvas(e,t){return this.nodes.find(r=>(0,i.calc_dist)(e,t,r.x,r.y)<=this.node_r)}get_labels(){return this.nodes.map(e=>e.label)}get_size(){return this.nodes.length}draw(){this.nodes.forEach(this.draw_node,this)}}class l{constructor(e){this.V=e,this.edges=[],[["0","3",5],["0","5",6],["0","7",3],["1","3",8],["1","6",3],["1","4",4],["2","4",9],["2","5",10],["2","7",5],["3","7",6],["4","6",2],["6","7",7]].forEach(e=>this.add.apply(this,e))}draw_edge(e){if(0==e.weight)return;let[t,r]=[this.V.get(e.from),this.V.get(e.to)],[o,s]=[t.x,t.y],[n,l]=[r.x,r.y],a=1.4*this.V.node_r,[d,h]=(0,i.calc_edge_point)(o,s,n,l,o,s,a),[u,c]=(0,i.calc_edge_point)(n,l,o,s,n,l,a);strokeWeight(2),fill.apply(null,e.color),stroke.apply(null,e.color),line(d,h,u,c);let[f,p]=[(o+n)/2,(s+l)/2];textAlign(CENTER,CENTER),fill(0),stroke(255,255,255),strokeWeight(5),textSize(24),text(e.weight,f,p)}get(e,t){return this.edges.find(r=>r.from==e&&r.to==t)}draw(){this.edges.forEach(this.draw_edge,this)}make(e,t,r){return{from:this.V.get_index(e),to:this.V.get_index(t),weight:r,color:s.black}}add(...e){let t=this.make.apply(this,e);this.edges.push(t)}modify(e,t,r){let o=(e,t)=>this.V.get(e)==t;this.edges=this.edges.map(s=>o(s.from,e)&&o(s.to,t)?r:s)}}class a{static normal_mode=0;static add_mode=1;static edit_mode=2;constructor(){this.V=new n,this.E=new l(this.V),this.mode=a.normal_mode,this.edit_mode=null,this.group_nodes=[0,2,3,7]}matrix_change(e,t,r){let[o,s]=[this.V.get(e),this.V.get(t)],i=this.E.get(e,t),n=parseInt(r);if(i){let e=this.E.make(o.label,s.label,n);this.E.modify(o,s,e)}else this.E.add(o.label,s.label,n);this.refresh()}matrix_refresh(){$("#matrix_tbl thead").empty(),$("#matrix_tbl tbody").empty(),$("#matrix_tbl thead").append(["<tr>",'<td class="gray"></td>',this.V.get_labels().map(e=>'<td class="gray text-center">'+e+"</td>").join(""),"</tr>"].join(""));for(let e=0;e<this.V.get_size();e++){let t=this.V.get(e);$("#matrix_tbl tbody").append(["<tr>",'<td class="gray">'+t.label+"</td>",Array.from(Array(this.V.get_size())).map((function(t,r){this.V.get(r);let o=this.E.get(e,r);if(e==r)return"<td>0</td>";{if(e<r)return'<td><input class="alg-input" type="number" onchange="matrix_change('+String(e)+","+String(r)+',this.value)" type="text" value="'+String(o?o.weight:0)+'"></td>';let t=this.E.get(r,e);return"<td>"+String(t?t.weight:0)+"</td>"}}).bind(this)).join(""),"</tr>"].join(""))}}refresh(){this.matrix_refresh(),redraw()}change_mode(e){this.mode=e,this.refresh()}draw(){if(background(this.mode==a.add_mode||this.mode==a.edit_mode?s.gray:s.lightGray),this.V.draw(),this.E.draw(),this.mode==a.add_mode||this.mode==a.edit_mode){strokeWeight(2),stroke.apply(null,s.black),line(mouseX,0,mouseX,1e3),line(0,mouseY,1e3,mouseY);let e=this.mode==a.add_mode?$("#node_label").val():this.editing_node.label;this.V.draw_node(this.V.make(e,mouseX,mouseY,s.red))}let e=1.4*this.V.node_r,t=2*Math.PI/24,r=[];for(let o of this.group_nodes.map(e=>this.V.get(e)))for(let s=0;s<24;s++){let i=s*t,n=o.x+Math.cos(i)*e,l=o.y+Math.sin(i)*e;r.push([n,l])}for(let t of this.group_nodes)for(let o of this.group_nodes)if(this.E.get(t,o)){let[s,i]=[this.V.get(t),this.V.get(o)],n=[s.x-i.x,s.y-i.y],l=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=[n[0]/l,n[1]/l],d=[-a[1]*e,a[0]*e],h=[a[1]*e,-a[0]*e];for(let e=0;e<48;e++){let t=(s.x*e+i.x*(48-e))/48,o=(s.y*e+i.y*(48-e))/48;r.push([t+d[0],o+d[1]]),r.push([t+h[0],o+h[1]])}}let o=hull(r);stroke.apply(null,s.red);for(let e=0;e<o.length;e++){let[t,r]=o[e],[s,i]=o[(e+1)%o.length];line(t,r,s,i)}}mouseMoved(){(this.mode==a.add_mode||this.mode==a.edit_mode)&&redraw()}mouseReleased(){if(this.mode==a.add_mode){let e=$("#node_label").val();this.V.add(e,mouseX,mouseY),$("#node_label").val(""),this.change_mode(a.normal_mode)}else if(this.mode==a.edit_mode){let e=this.V.make(this.editing_node.label,mouseX,mouseY);this.V.modify(this.editing_node,e),this.editing_node=null,this.change_mode(a.normal_mode)}else{let e=this.V.get_node_from_canvas(mouseX,mouseY);e&&(this.editing_node=e,this.change_mode(a.edit_mode))}}}window.setup=function(){createCanvas(1e3,1e3).parent("canvas-hole"),noLoop()};let d=new a;window.matrix_change=d.matrix_change.bind(d),window.draw=d.draw.bind(d),window.mouseMoved=d.mouseMoved.bind(d),window.mouseReleased=d.mouseReleased.bind(d),$(document).ready(function(){$("#add").click(()=>d.change_mode(a.add_mode)),d.refresh()})},{"./ColorCode.js":"fgi4l","./DrawUtil.js":"d335M","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],fgi4l:[function(e,t,r,o){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){return console.assert(0<=e&&e<=255,"Scale error"),[e,e,e]}function n(e,t,r){console.assert(0<=e&&e<=360,"Scale error"),console.assert(0<=t&&t<=100,"Scale error"),console.assert(0<=r&&r<=100,"Scale error");var o,s=function(e){return 0|Math.round(255*e)},i=t/100,n=r/100;if(0===t){var l=s(n);return[l,l,l]}var a=e/60,d=0|Math.floor(a),h=a-d,u=n*(1-i),c=n*(1-i*h),f=n*(1-i*(1-h));switch(d){case 0:o=[n,f,u];break;case 1:o=[c,n,u];break;case 2:o=[u,n,f];break;case 3:o=[u,c,n];break;case 4:o=[f,u,n];break;default:o=[n,u,c]}return[s(o[0]),s(o[1]),s(o[2])]}s.defineInteropFlag(r),s.export(r,"grayScale",()=>i),s.export(r,"hsv",()=>n),s.export(r,"black",()=>l),s.export(r,"dark",()=>a),s.export(r,"gray",()=>d),s.export(r,"lightGray",()=>h),s.export(r,"white",()=>u),s.export(r,"red",()=>c),s.export(r,"yellow",()=>f),s.export(r,"blue",()=>p),s.export(r,"lightBlue",()=>m),s.export(r,"orange",()=>g);var l=i(0),a=i(30),d=i(120),h=i(180),u=i(255),c=n(18,80,100),f=n(57,80,100),p=n(200,80,100),m=n(200,20,100),g=n(40,80,100)},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],jBTt3:[function(e,t,r,o){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],d335M:[function(e,t,r,o){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"strokeWeight",()=>u),s.export(r,"textSize",()=>c),s.export(r,"nodeRadius",()=>f),s.export(r,"drawNode",()=>l),s.export(r,"epsilon",()=>p),s.export(r,"calc_dist",()=>a),s.export(r,"calc_edge_point",()=>d),s.export(r,"rotation",()=>h);var i=e("./P5.js"),n=e("./ColorCode.js");function l(e,t,r){strokeWeight(2),i.fillColor(n.white),ellipse(e,t,50,50),textAlign(CENTER,CENTER),textSize(24),i.fillColor(n.black),text(r,e,t)}var a=function(e,t,r,o){return Math.sqrt((e-r)**2+(t-o)**2)},d=function(e,t,r,o,s,i,n){e==r&&(e+=p);let l=(o-t)/(r-e),d=n/Math.sqrt(1+l*l),[h,u]=[e+d,t+l*d],[c,f]=[e-d,t-l*d],[m,g]=[(e+r)/2,(t+o)/2];return a(h,u,m,g)<a(c,f,m,g)?[h,u]:[c,f]},h=function(e,t,r,o,s){return[(r-e)*Math.cos(s)-(o-t)*Math.sin(s)+e,(r-e)*Math.sin(s)+(o-t)*Math.cos(s)+t]},u=2,c=24,f=25,p=1e-5},{"./P5.js":"kRQjY","./ColorCode.js":"fgi4l","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],kRQjY:[function(e,t,r,o){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){fill.apply(null,e)}function n(e){stroke.apply(null,e)}s.defineInteropFlag(r),s.export(r,"fillColor",()=>i),s.export(r,"strokeColor",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}]},["cI9CU"],"cI9CU","parcelRequire94c2");
//# sourceMappingURL=GroupVis.js.map
