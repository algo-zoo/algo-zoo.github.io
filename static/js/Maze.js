!function(e,t,r,n,o){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof i[n]&&i[n],a=l.cache||{},s="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(t,r){if(!a[t]){if(!e[t]){var o="function"==typeof i[n]&&i[n];if(!r&&o)return o(t,!0);if(l)return l(t,!0);if(s&&"string"==typeof t)return s(t);var f=Error("Cannot find module '"+t+"'");throw f.code="MODULE_NOT_FOUND",f}d.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},d.cache={};var c=a[t]=new u.Module(t);e[t][0].call(c.exports,d,c,c.exports,i)}return a[t].exports;function d(e){var t=d.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=a,u.parent=l,u.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(u,"root",{get:function(){return i[n]}}),i[n]=u;for(var f=0;f<t.length;f++)u(t[f]);if(r){var c=u(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define(function(){return c})}}({lQkEX:[function(e,t,r,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var o=e("./ColorCode.js"),i={w:-1,h:-1,box_size:100,label_size:20,text_size:36,INF:1e10};let l={maze:[],dist:null,current_depth:-1,max_depth:-1},a=function(e){1==e?$("#maze-input").val(".#....#G\n.#.#....\n...#.##.\n#.##...#\n...###.#\n.#.....#\n...#.#..\nS......."):2==e?$("#maze-input").val("..#...#G\n..#.#...\n.....##.\nS..#...."):$("#maze-input").val("")},s=function(){a(parseInt($("#maze-select").val()))},u=function(e){for(let t=0;t<l.maze.length;t++)for(let r=0;r<l.maze[t].length;r++)if(l.maze[t][r]==e)return[t,r];return null},f=function(){l.maze=$("#maze-input").val().split("\n"),""!=l.maze[0]&&(i.w=i.box_size*(l.maze[0].length+1),i.h=i.box_size*(l.maze.length+1)),createCanvas(i.w,i.h).parent("canvas-hole"),c(),l.current_depth=0};window.setup=function(){createCanvas(0,0).parent("canvas-hole"),noLoop()};let c=function(){let e=u("S"),t=u("G");if(!e){alert("Error: The start position ('S') is not defined.");return}if(!t){alert("Error: The goal position ('G') is not defined.");return}let[r,n]=e,[o,a]=t,s=l.maze[0].length,f=l.maze.length;l.dist=Array.from({length:f},()=>Array(s).fill(i.INF));let c=[];for(c.push([r,n]),l.dist[r][n]=0;c.length>0&&l.dist[o][a]==i.INF;){let[e,t]=c.shift();for(let[r,n]of[[0,1],[1,0],[0,-1],[-1,0]]){let o=e+r,i=t+n;if(!(0<=o&&o<f)||!(0<=i&&i<s)||"#"==l.maze[o][i])continue;let a=l.dist[e][t]+1;l.dist[o][i]>a&&(l.dist[o][i]=a,c.push([o,i]))}}l.max_depth=max(l.dist.flatMap(e=>e).filter(e=>e!=i.INF))},d=function(e,t){let r=i.box_size/2,n=r+i.box_size*t,a=r+i.box_size*e;fill("#"==l.maze[e][t]?o.dark:o.white),rect(n,a,i.box_size,i.box_size)},p=function(e,t){let r=i.box_size/2,n=.05*i.box_size,a=r+n+i.box_size*t,s=r+n+i.label_size+i.box_size*e;if(fill(o.red),textSize(i.label_size),textAlign(LEFT,BASELINE),text("("+t+", "+e+")",a,s),"S"==l.maze[e][t]||"G"==l.maze[e][t]){let o=r-n+i.box_size*(t+1);textAlign(RIGHT,BASELINE),text("["+l.maze[e][t]+"]",o,s)}},h=function(e,t){let r=l.dist[e][t];if(r!=i.INF&&r<=l.current_depth){let r=i.box_size/2,n=r+i.box_size*(t+.5),o=r+i.box_size*(e+.5);fill(0),textSize(i.text_size),textAlign(CENTER,CENTER),text(l.dist[e][t],n,o)}},x=function(){i.box_size;for(let e=0;e<l.maze.length;e++)for(let t=0;t<l.maze[e].length;t++)d(e,t),p(e,t),h(e,t)};window.draw=function(){$("#prev").prop("disabled",-1==l.current_depth||0==l.current_depth),$("#next").prop("disabled",-1==l.current_depth||l.current_depth==l.max_depth),background(o.lightGray),x()},$(document).ready(function(){$("#maze-load").click(function(){f(),draw()}),$("#prev").click(function(){l.current_depth>0&&(l.current_depth--,draw())}),$("#next").click(function(){l.current_depth<l.max_depth&&(l.current_depth++,draw())}),$("#maze-select").change(s)})},{"./ColorCode.js":"fgi4l","@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],fgi4l:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){return console.assert(0<=e&&e<=255,"Scale error"),[e,e,e]}function l(e,t,r){console.assert(0<=e&&e<=360,"Scale error"),console.assert(0<=t&&t<=100,"Scale error"),console.assert(0<=r&&r<=100,"Scale error");var n,o=function(e){return 0|Math.round(255*e)},i=t/100,l=r/100;if(0===t){var a=o(l);return[a,a,a]}var s=e/60,u=0|Math.floor(s),f=s-u,c=l*(1-i),d=l*(1-i*f),p=l*(1-i*(1-f));switch(u){case 0:n=[l,p,c];break;case 1:n=[d,l,c];break;case 2:n=[c,l,p];break;case 3:n=[c,d,l];break;case 4:n=[p,c,l];break;default:n=[l,c,d]}return[o(n[0]),o(n[1]),o(n[2])]}o.defineInteropFlag(r),o.export(r,"grayScale",()=>i),o.export(r,"hsv",()=>l),o.export(r,"black",()=>a),o.export(r,"dark",()=>s),o.export(r,"gray",()=>u),o.export(r,"lightGray",()=>f),o.export(r,"white",()=>c),o.export(r,"red",()=>d),o.export(r,"yellow",()=>p),o.export(r,"blue",()=>h),o.export(r,"lightBlue",()=>x),o.export(r,"orange",()=>m);var a=i(0),s=i(30),u=i(120),f=i(180),c=i(255),d=l(18,80,100),p=l(57,80,100),h=l(200,80,100),x=l(200,20,100),m=l(40,80,100)},{"@parcel/transformer-js/src/esmodule-helpers.js":"jBTt3"}],jBTt3:[function(e,t,r,n){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}]},["lQkEX"],"lQkEX","parcelRequire94c2");
//# sourceMappingURL=Maze.js.map
